<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Shell-3 | Escher</title>
  <meta name="description" content="Shell计算命令：expr命令详解介绍expr (evaluate expressions 的缩写)，译为“表达式求值”。Shell expr 是一个功能强大，并且比较复杂的命令，它除了可以实现整数计算，还可以结合一些选项对字符串进行处理，例如计算字符串长度、字符串比较、字符串匹配、字符串提取等. 求值表达式(已讲)计算语法 123expr 算术运算符表达式# 例如: expr 1 + 1  返">
<meta property="og:type" content="article">
<meta property="og:title" content="Shell-3">
<meta property="og:url" content="http://liujun1997.github.io/2021/09/04/Shell-3/index.html">
<meta property="og:site_name" content="Escher">
<meta property="og:description" content="Shell计算命令：expr命令详解介绍expr (evaluate expressions 的缩写)，译为“表达式求值”。Shell expr 是一个功能强大，并且比较复杂的命令，它除了可以实现整数计算，还可以结合一些选项对字符串进行处理，例如计算字符串长度、字符串比较、字符串匹配、字符串提取等. 求值表达式(已讲)计算语法 123expr 算术运算符表达式# 例如: expr 1 + 1  返">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200703102043699.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200703104041895.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200703112053690.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200703113800668.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200703114726267.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200703135351633.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200703153959498.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200703151035148.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200703151349964.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200703154646821.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200703155152427.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200703155732347.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200703161628360.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200703165220020.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200703172613295.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200703183031637.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200704063911230.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200704114310717.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200704074537077.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200704074322642.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200704142506942.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200704145024719.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200704155626936.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200704164037719.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200704162438406.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200704165553702.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200709171835755.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200709172353670.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200704175505682.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200704184207793.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200709173619130.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200704211609666.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200704213119988.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200704214505694.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200705211524230.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200705214312724.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200705215617076.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200705221517251.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200705225942198.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200705230840431.png">
<meta property="og:image" content="https://file.coderstudy.cn/image/Pic/image-20200705231347332.png">
<meta property="article:published_time" content="2021-09-04T11:39:55.000Z">
<meta property="article:modified_time" content="2021-09-05T05:08:08.740Z">
<meta property="article:author" content="Escher">
<meta property="article:tag" content="Linux Shell">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://file.coderstudy.cn/image/Pic/image-20200703102043699.png">
  <!-- Canonical links -->
  <link rel="canonical" href="http://liujun1997.github.io/2021/09/04/Shell-3/index.html">
  
    <link rel="alternate" href="/atom.xml" title="Escher" type="application/atom+xml">
  
  
    <link rel="icon" href="./images/log.jpg" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
    <link href="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.3.5/dist/jquery.fancybox.min.css" rel="stylesheet">
  
  
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/liujun1997" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar1.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">Escher</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">Java,Python,Coder</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> ZhuHai, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">标签</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">项目</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">友链</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">关于</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/liujun1997" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://weibo.com/流隽jk" target="_blank" title="Weibo" data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li>
        
        <li><a href="https://twitter.com/iwebued" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>本人是一个JAVA开发工程师，这里是我的技术分享，生活随笔的空间，欢迎光临呀，希望可以在技术上多多交流！</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%A0%91%E8%8E%93%E6%B4%BE/">树莓派</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%89%A9%E8%81%94%E7%BD%91/">物联网</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/">软件安装</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a><span class="category-list-count">6</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签云</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/IOT-chieflinks/" style="font-size: 13px;">IOT chieflinks</a> <a href="/tags/Java/" style="font-size: 13px;">Java</a> <a href="/tags/Linux/" style="font-size: 13.5px;">Linux</a> <a href="/tags/Linux-Shell/" style="font-size: 14px;">Linux Shell</a> <a href="/tags/Linux-%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/" style="font-size: 13px;">Linux 磁盘分区</a> <a href="/tags/Mysql-Linux/" style="font-size: 13px;">Mysql Linux</a> <a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" style="font-size: 13px;">大数据</a> <a href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE-%E7%BD%91%E7%BB%9C/" style="font-size: 13px;">树莓派 网络</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">归档</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a><span class="archive-list-count">5</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/">软件安装</a>
              </p>
              <p class="item-title">
                <a href="/2021/10/13/Centos7-Mysql5-7%E5%AE%89%E8%A3%85/" class="title">Centos7-Mysql5.7安装</a>
              </p>
              <p class="item-date">
                <time datetime="2021-10-13T07:59:26.000Z" itemprop="datePublished">2021-10-13</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a>
              </p>
              <p class="item-title">
                <a href="/2021/10/11/Linux%E7%A3%81%E7%9B%98-%E5%88%86%E5%8C%BA-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/" class="title">Linux磁盘/分区/文件系统</a>
              </p>
              <p class="item-date">
                <time datetime="2021-10-11T08:59:47.000Z" itemprop="datePublished">2021-10-11</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a>
              </p>
              <p class="item-title">
                <a href="/2021/09/04/shell-4/" class="title">Shell-4</a>
              </p>
              <p class="item-date">
                <time datetime="2021-09-04T12:34:53.000Z" itemprop="datePublished">2021-09-04</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a>
              </p>
              <p class="item-title">
                <a href="/2021/09/04/Shell-3/" class="title">Shell-3</a>
              </p>
              <p class="item-date">
                <time datetime="2021-09-04T11:39:55.000Z" itemprop="datePublished">2021-09-04</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a>
              </p>
              <p class="item-title">
                <a href="/2021/09/04/Shell-2/" class="title">Shell-2</a>
              </p>
              <p class="item-date">
                <time datetime="2021-09-04T07:50:55.000Z" itemprop="datePublished">2021-09-04</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Shell%E8%AE%A1%E7%AE%97%E5%91%BD%E4%BB%A4%EF%BC%9Aexpr%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.</span> <span class="toc-text">Shell计算命令：expr命令详解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B1%82%E5%80%BC%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E5%B7%B2%E8%AE%B2"><span class="toc-number">1.2.</span> <span class="toc-text">求值表达式(已讲)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number">1.2.1.</span> <span class="toc-text"></span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%AF%AD%E6%B3%95"><span class="toc-number">1.3.</span> <span class="toc-text">字符串语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA"><span class="toc-number">1.4.</span> <span class="toc-text">演示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-number">1.5.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Shell%E8%AE%A1%E7%AE%97%E5%91%BD%E4%BB%A4%EF%BC%9A-%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3"><span class="toc-number">2.</span> <span class="toc-text">Shell计算命令：(())命令详解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87"><span class="toc-number">2.1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-1"><span class="toc-number">2.2.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">2.3.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%B3%95"><span class="toc-number">2.4.</span> <span class="toc-text">用法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">2.5.</span> <span class="toc-text">示例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-1"><span class="toc-number">2.6.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Shell%E8%AE%A1%E7%AE%97%E5%91%BD%E4%BB%A4%EF%BC%9Alet%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3"><span class="toc-number">3.</span> <span class="toc-text">Shell计算命令：let命令详解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-1"><span class="toc-number">3.1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-2"><span class="toc-number">3.2.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-1"><span class="toc-number">3.3.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-1"><span class="toc-number">3.4.</span> <span class="toc-text">示例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-2"><span class="toc-number">3.5.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Shell%E8%AE%A1%E7%AE%97%E5%91%BD%E4%BB%A4%EF%BC%9A-%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3-1"><span class="toc-number">4.</span> <span class="toc-text">Shell计算命令：$[]命令详解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-2"><span class="toc-number">4.1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-3"><span class="toc-number">4.2.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-2"><span class="toc-number">4.3.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-2"><span class="toc-number">4.4.</span> <span class="toc-text">示例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-3"><span class="toc-number">4.5.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Shell%E8%AE%A1%E7%AE%97%E5%91%BD%E4%BB%A4%EF%BC%9Abc%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3"><span class="toc-number">5.</span> <span class="toc-text">Shell计算命令：bc命令详解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-3"><span class="toc-number">5.1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-4"><span class="toc-number">5.2.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bc%E5%91%BD%E4%BB%A4"><span class="toc-number">5.3.</span> <span class="toc-text">bc命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-3"><span class="toc-number">5.3.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#options"><span class="toc-number">5.3.2.</span> <span class="toc-text">options</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0"><span class="toc-number">5.3.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9Abc%E6%89%A7%E8%A1%8C%E8%AE%A1%E7%AE%97%E4%BB%BB%E5%8A%A1%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-number">5.3.4.</span> <span class="toc-text">示例：bc执行计算任务的文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8F"><span class="toc-number">5.4.</span> <span class="toc-text">内置变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0"><span class="toc-number">5.5.</span> <span class="toc-text">内置数学函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8"><span class="toc-number">5.6.</span> <span class="toc-text">作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9Abc%E4%B8%AD%E4%BA%92%E5%8A%A8%E5%BC%8F%E7%9A%84%E6%95%B0%E5%AD%A6%E8%BF%90%E7%AE%97"><span class="toc-number">5.7.</span> <span class="toc-text">示例：bc中互动式的数学运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-5"><span class="toc-number">5.7.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-1"><span class="toc-number">5.7.2.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9Ashell%E4%B8%AD%E9%9D%9E%E4%BA%92%E5%8A%A8%E5%BC%8F%E7%9A%84%E7%AE%A1%E9%81%93%E8%BF%90%E7%AE%97"><span class="toc-number">5.8.</span> <span class="toc-text">示例：shell中非互动式的管道运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-6"><span class="toc-number">5.8.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%80%9F%E5%8A%A9%E7%AE%A1%E9%81%93%E4%BD%BF%E7%94%A8-bc-%E8%AE%A1%E7%AE%97%E5%99%A8%E8%AF%AD%E6%B3%95"><span class="toc-number">5.8.2.</span> <span class="toc-text">借助管道使用 bc 计算器语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-2"><span class="toc-number">5.8.3.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9Ashell%E4%B8%AD%E9%9D%9E%E4%BA%92%E5%8A%A8%E5%BC%8F%E7%9A%84%E8%BE%93%E5%85%A5%E9%87%8D%E5%AE%9A%E5%90%91%E8%BF%90%E7%AE%97"><span class="toc-number">5.9.</span> <span class="toc-text">示例：shell中非互动式的输入重定向运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-7"><span class="toc-number">5.9.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-4"><span class="toc-number">5.9.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-3"><span class="toc-number">5.9.3.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-4"><span class="toc-number">5.10.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%EF%BC%9Aif-else%E8%AF%AD%E5%8F%A5"><span class="toc-number">6.</span> <span class="toc-text">流程控制：if else语句</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-4"><span class="toc-number">6.1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-8"><span class="toc-number">6.2.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#if%E8%AF%AD%E6%B3%95"><span class="toc-number">6.3.</span> <span class="toc-text">if语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#if-else-%E8%AF%AD%E6%B3%95"><span class="toc-number">6.4.</span> <span class="toc-text">if else 语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#if-elif-else-%E8%AF%AD%E6%B3%95"><span class="toc-number">6.5.</span> <span class="toc-text">if elif else 语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-4"><span class="toc-number">6.6.</span> <span class="toc-text">演示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-5"><span class="toc-number">6.7.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#if%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E5%8F%A5%E7%9A%84%E9%80%80%E5%87%BA%E7%8A%B6%E6%80%81"><span class="toc-number">7.</span> <span class="toc-text">if条件判断句的退出状态</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-5"><span class="toc-number">7.1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-9"><span class="toc-number">7.2.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-5"><span class="toc-number">7.3.</span> <span class="toc-text">演示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%80%E5%87%BA%E7%8A%B6%E6%80%81%E5%92%8C%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E7%BB%84%E5%90%88"><span class="toc-number">7.4.</span> <span class="toc-text">退出状态和逻辑运算符的组合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-3"><span class="toc-number">7.5.</span> <span class="toc-text">示例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9C%80%E6%B1%82"><span class="toc-number">7.5.1.</span> <span class="toc-text">需求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-6"><span class="toc-number">7.5.2.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-6"><span class="toc-number">7.6.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Shell%E5%86%85%E7%BD%AE%E5%91%BD%E4%BB%A4%EF%BC%9Atest"><span class="toc-number">8.</span> <span class="toc-text">Shell内置命令：test</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-6"><span class="toc-number">8.1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-10"><span class="toc-number">8.2.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B4%E6%95%B0%E6%AF%94%E8%BE%83%E6%B5%8B%E8%AF%95"><span class="toc-number">8.3.</span> <span class="toc-text">整数比较测试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-5"><span class="toc-number">8.3.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-7"><span class="toc-number">8.3.2.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%AF%94%E8%BE%83%E6%B5%8B%E8%AF%95"><span class="toc-number">8.4.</span> <span class="toc-text">字符串比较测试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-6"><span class="toc-number">8.4.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-8"><span class="toc-number">8.4.2.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%B5%8B%E8%AF%95"><span class="toc-number">8.5.</span> <span class="toc-text">文件测试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-7"><span class="toc-number">8.5.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-9"><span class="toc-number">8.5.2.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-7"><span class="toc-number">8.6.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%EF%BC%9Acase%E8%AF%AD%E5%8F%A5"><span class="toc-number">9.</span> <span class="toc-text">流程控制：case语句</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-7"><span class="toc-number">9.1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-11"><span class="toc-number">9.2.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-8"><span class="toc-number">9.3.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-10"><span class="toc-number">9.4.</span> <span class="toc-text">演示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-8"><span class="toc-number">9.5.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%EF%BC%9Awhile%E8%AF%AD%E5%8F%A5"><span class="toc-number">10.</span> <span class="toc-text">流程控制：while语句</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-8"><span class="toc-number">10.1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-12"><span class="toc-number">10.2.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-9"><span class="toc-number">10.3.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-11"><span class="toc-number">10.4.</span> <span class="toc-text">演示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A0%E9%99%90%E5%BE%AA%E7%8E%AF"><span class="toc-number">10.5.</span> <span class="toc-text">无限循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-9"><span class="toc-number">10.6.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%EF%BC%9Auntil%E8%AF%AD%E5%8F%A5"><span class="toc-number">11.</span> <span class="toc-text">流程控制：until语句</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-9"><span class="toc-number">11.1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-13"><span class="toc-number">11.2.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-10"><span class="toc-number">11.3.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-12"><span class="toc-number">11.4.</span> <span class="toc-text">演示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-10"><span class="toc-number">11.5.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%EF%BC%9Afor%E8%AF%AD%E5%8F%A5"><span class="toc-number">12.</span> <span class="toc-text">流程控制：for语句</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-10"><span class="toc-number">12.1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-14"><span class="toc-number">12.2.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E6%96%B9%E5%BC%8F1"><span class="toc-number">12.3.</span> <span class="toc-text">循环方式1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-11"><span class="toc-number">12.3.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-13"><span class="toc-number">12.3.2.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E6%96%B9%E5%BC%8F2"><span class="toc-number">12.4.</span> <span class="toc-text">循环方式2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-12"><span class="toc-number">12.4.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-14"><span class="toc-number">12.4.2.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E6%96%B9%E5%BC%8F3"><span class="toc-number">12.5.</span> <span class="toc-text">循环方式3</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-13"><span class="toc-number">12.5.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-15"><span class="toc-number">12.5.2.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A0%E9%99%90%E5%BE%AA%E7%8E%AF-1"><span class="toc-number">12.6.</span> <span class="toc-text">无限循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-11"><span class="toc-number">12.7.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%EF%BC%9Aselect%E8%AF%AD%E5%8F%A5"><span class="toc-number">13.</span> <span class="toc-text">流程控制：select语句</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-11"><span class="toc-number">13.1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-15"><span class="toc-number">13.2.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-14"><span class="toc-number">13.3.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA1"><span class="toc-number">13.4.</span> <span class="toc-text">演示1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA2"><span class="toc-number">13.5.</span> <span class="toc-text">演示2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-12"><span class="toc-number">13.6.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Shell%E5%87%BD%E6%95%B0%EF%BC%9A%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0"><span class="toc-number">14.</span> <span class="toc-text">Shell函数：系统函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-12"><span class="toc-number">14.1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D"><span class="toc-number">14.2.</span> <span class="toc-text">函数介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%88%86%E7%B1%BB"><span class="toc-number">14.3.</span> <span class="toc-text">函数分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D"><span class="toc-number">14.4.</span> <span class="toc-text">系统函数介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#basename%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0"><span class="toc-number">14.5.</span> <span class="toc-text">basename系统函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-16"><span class="toc-number">14.5.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-15"><span class="toc-number">14.5.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-16"><span class="toc-number">14.5.3.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dirname%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0"><span class="toc-number">14.6.</span> <span class="toc-text">dirname系统函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-17"><span class="toc-number">14.6.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-16"><span class="toc-number">14.6.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-17"><span class="toc-number">14.6.3.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-13"><span class="toc-number">14.7.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Shell%E5%87%BD%E6%95%B0%EF%BC%9A%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-number">15.</span> <span class="toc-text">Shell函数：自定义函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-13"><span class="toc-number">15.1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-18"><span class="toc-number">15.2.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-17"><span class="toc-number">15.3.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">15.4.</span> <span class="toc-text">注意</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A%E6%97%A0%E5%8F%82%E6%97%A0%E8%BF%94%E5%9B%9E%E5%80%BC%E5%87%BD%E6%95%B0"><span class="toc-number">15.5.</span> <span class="toc-text">示例：无参无返回值函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A%E6%97%A0%E5%8F%82%E6%9C%89%E8%BF%94%E5%9B%9E%E5%80%BC%E5%87%BD%E6%95%B0"><span class="toc-number">15.6.</span> <span class="toc-text">示例：无参有返回值函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A%E6%9C%89%E5%8F%82%E5%87%BD%E6%95%B0"><span class="toc-number">15.7.</span> <span class="toc-text">示例：有参函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-19"><span class="toc-number">15.7.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-18"><span class="toc-number">15.7.2.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Shell%E7%A8%8B%E5%BA%8F%E4%B8%8E%E5%87%BD%E6%95%B0%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">15.8.</span> <span class="toc-text">Shell程序与函数的区别</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BA%E5%88%AB"><span class="toc-number">15.8.1.</span> <span class="toc-text">区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-19"><span class="toc-number">15.8.2.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-14"><span class="toc-number">15.9.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Shell%E9%87%8D%E5%AE%9A%E5%90%91%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-number">16.</span> <span class="toc-text">Shell重定向输入输出</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-14"><span class="toc-number">16.1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91%E4%BB%8B%E7%BB%8D"><span class="toc-number">16.2.</span> <span class="toc-text">重定向介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E4%BB%8B%E7%BB%8D"><span class="toc-number">16.2.1.</span> <span class="toc-text">标准输入介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E8%BE%93%E5%87%BA%E4%BB%8B%E7%BB%8D"><span class="toc-number">16.2.2.</span> <span class="toc-text">标准输出介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%96%87%E4%BB%B6"><span class="toc-number">16.2.3.</span> <span class="toc-text">默认输入输出文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E4%BB%8B%E7%BB%8D"><span class="toc-number">16.2.4.</span> <span class="toc-text">重定向输入输出介绍</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">16.3.</span> <span class="toc-text">重定向的作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91%E8%AF%AD%E6%B3%95"><span class="toc-number">16.4.</span> <span class="toc-text">重定向语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E7%A4%BA%E4%BE%8B%EF%BC%9A%E6%AD%A3%E7%A1%AE%E4%BF%A1%E6%81%AF%E9%87%8D%E5%AE%9A%E5%90%91%E8%BE%93%E5%87%BA"><span class="toc-number">16.5.</span> <span class="toc-text">输出示例：正确信息重定向输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E7%A4%BA%E4%BE%8B%EF%BC%9A%E9%94%99%E8%AF%AF%E4%BF%A1%E6%81%AF%E9%87%8D%E5%AE%9A%E5%90%91%E8%BE%93%E5%87%BA"><span class="toc-number">16.6.</span> <span class="toc-text">输出示例：错误信息重定向输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E7%A4%BA%E4%BE%8B%EF%BC%9A%E6%AD%A3%E7%A1%AE%E5%92%8C%E9%94%99%E8%AF%AF%E4%BF%A1%E6%81%AF%E5%90%8C%E6%97%B6%E8%BE%93%E5%87%BA"><span class="toc-number">16.7.</span> <span class="toc-text">输出示例：正确和错误信息同时输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E7%A4%BA%E4%BE%8B%EF%BC%9A%E7%BB%9F%E8%AE%A1%E6%96%87%E4%BB%B6%E6%95%B0%E6%8D%AE%E8%A1%8C%E6%95%B0"><span class="toc-number">16.8.</span> <span class="toc-text">输入示例：统计文件数据行数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#wc%E5%91%BD%E4%BB%A4%E4%BB%8B%E7%BB%8D"><span class="toc-number">16.8.1.</span> <span class="toc-text">wc命令介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#wc%E5%91%BD%E4%BB%A4%E8%AF%AD%E6%B3%95"><span class="toc-number">16.8.2.</span> <span class="toc-text">wc命令语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA-20"><span class="toc-number">16.8.3.</span> <span class="toc-text">演示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E7%A4%BA%E4%BE%8B%EF%BC%9A%E9%80%90%E8%A1%8C%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E6%95%B0%E6%8D%AE"><span class="toc-number">16.9.</span> <span class="toc-text">输入示例：逐行读取文件数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E7%A4%BA%E4%BE%8B%EF%BC%9A%E8%AF%BB%E5%8F%96%E7%BB%88%E7%AB%AF%E8%BE%93%E5%85%A5%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%8C%E6%95%B0"><span class="toc-number">16.10.</span> <span class="toc-text">输入示例：读取终端输入数据的行数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-15"><span class="toc-number">16.11.</span> <span class="toc-text">小结</span></a></li></ol></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-Shell-3" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Shell-3
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2021/09/04/Shell-3/" class="article-date">
	  <time datetime="2021-09-04T11:39:55.000Z" itemprop="datePublished">2021-09-04</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a>
  </span>

        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link-link" href="/tags/Linux-Shell/" rel="tag">Linux Shell</a>
  </span>


        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill" aria-hidden="true"></i>
		<span id="busuanzi_value_page_pv">0</span>
	    <!-- <span id="busuanzi_container_page_pv">
			
		</span> -->
	</span>


        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/09/04/Shell-3/#comments" class="article-comment-link">评论</a></span>
        
	
		<span class="post-wordcount hidden-xs" itemprop="wordCount">字数统计: 10k(字)</span>
	
	
		<span class="post-readcount hidden-xs" itemprop="timeRequired">阅读时长: 38(分)</span>
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h1 id="Shell计算命令：expr命令详解"><a href="#Shell计算命令：expr命令详解" class="headerlink" title="Shell计算命令：expr命令详解"></a>Shell计算命令：expr命令详解</h1><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>expr (evaluate expressions 的缩写)，译为“表达式求值”。Shell expr 是一个功能强大，并且比较复杂的命令，它除了可以实现整数计算，还可以结合一些选项对字符串进行处理，例如计算字符串长度、字符串比较、字符串匹配、字符串提取等.</p>
<h2 id="求值表达式-已讲"><a href="#求值表达式-已讲" class="headerlink" title="求值表达式(已讲)"></a>求值表达式(已讲)</h2><p>计算语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">expr 算术运算符表达式</span><br><span class="line"><span class="meta">#</span><span class="bash"> 例如: expr 1 + 1  返回: 2</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 例如: expr \( 10 + 10 \) \* 2 + 100 返回:140</span></span><br></pre></td></tr></table></figure>

<p><img src="https://file.coderstudy.cn/image/Pic/image-20200703102043699.png" alt="image-20200703102043699"></p>
<p>获取计算结果赋值给新变量语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result=`expr 算术运算符表达式`</span><br><span class="line"><span class="meta">#</span><span class="bash"> 例如: result=`expr 1 + 1`  输出result得到结果: 2</span></span><br></pre></td></tr></table></figure>

<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h2 id="字符串语法"><a href="#字符串语法" class="headerlink" title="字符串语法"></a>字符串语法</h2><p>计算字符串的长度语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">expr length 字符串</span><br><span class="line"><span class="meta">#</span><span class="bash"> 例如: expr length <span class="string">&quot;itheima&quot;</span>  返回: 7</span></span><br></pre></td></tr></table></figure>

<p>截取字符串语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">expr substr 字符串 start end</span><br><span class="line"><span class="meta">#</span><span class="bash"> start 截取字符串的起始位置, 从1开始</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> end 截取字符串的结束位置, 包含这个位置截取</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 例如 expr substr <span class="string">&quot;itheima&quot;</span> 1 2  返回: it</span></span><br></pre></td></tr></table></figure>

<p>获取第一个字符在字符串中出现的位置语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">expr index 被查找字符串  需要查找的字符</span><br><span class="line"><span class="meta">#</span><span class="bash"> 例如 expr index <span class="string">&quot;itheima&quot;</span> t  会返回: 2</span> </span><br></pre></td></tr></table></figure>

<p>正则表达式匹配1语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">expr match 字符串 正则表达式</span><br><span class="line"><span class="meta">#</span><span class="bash"> 正则表达式默认带有^ ,  代表以什么开头</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 返回值为符合匹配字符的长度, 否则返回为0</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 例如: expr match <span class="string">&quot;itheima&quot;</span> <span class="string">&quot;.*m&quot;</span>  会返回: 6</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 正则表达式通配符<span class="string">&quot;.&quot;</span>代表任意一个字符</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 正则表达式通配符<span class="string">&quot;*&quot;</span>代表签名的字符可以出现0到多次</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="string">&quot;.*m&quot;</span> 含义为匹配字符串中m前面的字符串长度</span> </span><br></pre></td></tr></table></figure>

<p>正则表表达式匹配2语法,  功能与语法1一样</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">expr 字符串 : 正则表达式</span><br><span class="line"><span class="meta">#</span><span class="bash"> 正则表达式默认带有^ ,  代表以什么开头</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 返回值为符合匹配字符的长度, 否则返回为0</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 例如: expr <span class="string">&quot;itheima&quot;</span> : <span class="string">&quot;.*m&quot;</span>  会返回: 6</span></span><br></pre></td></tr></table></figure>



<h2 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h2><p>需求</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 四则运算: ( 10 + 10 ) * 2 + 100</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 计算<span class="string">&quot;itheima&quot;</span>字符串的长度</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取<span class="string">&quot;itheima&quot;</span>字符串中<span class="string">&quot;t&quot;</span>第一个字符在字符串中出现的位置</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 正则表达式match匹配查找itheima字符串中m前面任意字符的总长度</span></span><br></pre></td></tr></table></figure>



<p>cal1.sh脚本文件代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 四则运算</span></span><br><span class="line">result=`expr \( 10 + 10 \) \* 2 + 100`</span><br><span class="line">echo &quot;(10+10)*2+100=$&#123;result&#125;&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 计算字符串的长度</span></span><br><span class="line">echo &quot;itheima字符串长度=`expr length &quot;itheima&quot;`&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取第一个字符在字符串中出现的位置</span></span><br><span class="line">echo &quot;itheima字符串中第一个t的位置=`expr index &quot;itheima&quot; t`&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 正则表达式匹配1</span></span><br><span class="line">echo &quot;正则表达式match匹配查找itheima字符串中m前面任意字符的总长度=`expr match &quot;itheima&quot; &quot;.*m&quot;`&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 正则表达式匹配2</span></span><br><span class="line">echo &quot;正则表达式匹配查找itheima字符串中m前面任意字符的总长度=`expr &quot;itheima&quot; : &quot;.*m&quot;`&quot;</span><br></pre></td></tr></table></figure>



<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200703104041895.png" alt="image-20200703104041895"></p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>expr命令的作用</p>
<blockquote>
<ol>
<li><p>整数计算</p>
<p><code>expr 整数运算表达式</code></p>
</li>
<li><p>字符串操作</p>
<p><code>expr length 字符串</code>  获取字符串的长度</p>
<p><code>expr substr 字符串 start end</code>  截取字符串</p>
<p><code>expr index 字符串  查找的字符</code>  查找字符在字符串中第一次出现的位置,  位置从1开始的</p>
<p><code>expr match 字符串  正则表达式</code></p>
<p><code>expr 字符串: 正则表达式</code></p>
</li>
</ol>
</blockquote>
<h1 id="Shell计算命令：-命令详解"><a href="#Shell计算命令：-命令详解" class="headerlink" title="Shell计算命令：(())命令详解"></a>Shell计算命令：(())命令详解</h1><h2 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h2><p>能够使用(())进行整数的数学运算</p>
<h2 id="介绍-1"><a href="#介绍-1" class="headerlink" title="介绍"></a>介绍</h2><p>双小括号 (( )) , 用于进行数学运算表达式的执行 , 将数学运算表达式放在<code>((</code>和<code>))</code>之间。</p>
<p>可以使用<code>$</code>获取 (( )) 表达式命令的结果，这和使用<code>$</code>获得变量值是一样的。</p>
<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">((表达式))</span><br></pre></td></tr></table></figure>



<h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><table>
<thead>
<tr>
<th>运算操作符/运算命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>((a=1+6))<br> ((b=a-1)) <br>((c=a+b))</td>
<td>这种写法可以在计算完成后给变量赋值。以 ((b=a-1)) 为例，<br>即将 a-1 的运算结果赋值给变量 c。  注意，使用变量时不用加<code>$</code>前缀，<br>(( )) 会自动解析变量名。</td>
</tr>
<tr>
<td><code>a=$((1+6)</code><br> <code>b=$((a-1))</code><br> <code>c=$((a+b))</code></td>
<td>可以在 (( )) 前面加上<code>$</code>符号获取 (( )) 命令的执行结果，<br>也即获取整个表达式的值。以 <code>c=$((a+b))</code> 为例，即将 a+b 这个<br>表达式的运算结果赋值给变量 c。  注意，如果 c=((a+b)) 这样的写<br>法是错误的，不加<code>$</code>就不能取得表达式的结果。</td>
</tr>
<tr>
<td>((a&gt;7 &amp;&amp; b==c))</td>
<td>(( )) 也可以进行逻辑运算，在 if 语句中常会使用逻辑运算。</td>
</tr>
<tr>
<td>echo $((a+10))</td>
<td>需要立即输出表达式的运算结果时，可以在 (( )) 前面加<code>$</code>符号。</td>
</tr>
<tr>
<td>((a=3+5, b=a+10))</td>
<td>对多个表达式同时进行计算, 多表表达式使用”,”号隔开</td>
</tr>
</tbody></table>
<blockquote>
<p>注意:  符号之间有无空格都可以 , (( a = 1 + 6 )) 等价于 ((a=1+6))</p>
</blockquote>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p>需求</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 计算1+6赋值给变量a</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 计算变量a-1赋值给变量b</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 计算变量a+变量b赋值给变量c</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 打印变量a,变量b, 变量c的值</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> $赋值写法</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> (())多个表达式计算赋值</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">echo</span>输出直接使用(())</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> (()) 用于逻辑表达式 在<span class="keyword">if</span>中使用</span></span><br></pre></td></tr></table></figure>



<p>calculatej2.sh脚本代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 计算1+6赋值给变量a</span></span><br><span class="line">((a=1+6))</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 计算变量a-1赋值给变量b</span></span><br><span class="line">((b=a-1))</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 计算变量a+变量b赋值给变量c</span></span><br><span class="line">((c=a+b))</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 打印变量a,变量b, 变量c的值</span></span><br><span class="line">echo &quot;a=$&#123;a&#125;,b=$&#123;b&#125;,c=$&#123;c&#125;&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> $赋值写法</span></span><br><span class="line">a=$((1+6)) b=$((a-1)) c=$((a+b))</span><br><span class="line">echo &quot;a=$&#123;a&#125;,b=$&#123;b&#125;,c=$&#123;c&#125;&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> (())多个表达式计算赋值</span></span><br><span class="line">((a=1+6,b=a-1,c=a+b))</span><br><span class="line">echo &quot;a=$&#123;a&#125;,b=$&#123;b&#125;,c=$&#123;c&#125;&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">echo</span>输出直接使用(())</span></span><br><span class="line">echo &quot;1+6=$((1+6))&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> (()) 用于逻辑表达式 在<span class="keyword">if</span>中使用</span></span><br><span class="line">if ((a&gt;7 &amp;&amp; b==c))</span><br><span class="line">then</span><br><span class="line">        echo &quot;a&gt;7 &amp;&amp; b==c 成立&quot;</span><br><span class="line">else</span><br><span class="line">        echo &quot;a&gt;7 &amp;&amp; b==c 不成立&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>



<p>运行结果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200703112053690.png" alt="image-20200703112053690"></p>
<h2 id="小结-1"><a href="#小结-1" class="headerlink" title="小结"></a>小结</h2><p>(())的用法</p>
<blockquote>
<p>括号内赋值:  ((变量名=整数表达式))</p>
<p>括号外赋值: 变量名=$((整数表达式))</p>
<p>多表达式赋值: ((变量名1=整数表达式1,变量名2=整数表达式2,…))</p>
<p>与if条件句配合使用:  if ((整数表达式))</p>
</blockquote>
<h1 id="Shell计算命令：let命令详解"><a href="#Shell计算命令：let命令详解" class="headerlink" title="Shell计算命令：let命令详解"></a>Shell计算命令：let命令详解</h1><h2 id="目标-1"><a href="#目标-1" class="headerlink" title="目标"></a>目标</h2><p>能够使用let进行整数的数学运算赋值</p>
<h2 id="介绍-2"><a href="#介绍-2" class="headerlink" title="介绍"></a>介绍</h2><p>let 命令和双小括号 (( )) 在数字计算方面功能一样.  但是没有(())功能强大,  let只能用于赋值计算, 不能直接输出, 不可以条件判断一起使用</p>
<h2 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let 赋值表达式</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意</p>
<ol>
<li><p>语法功能等价于<code>((表达式))</code></p>
</li>
<li><p>多个表达式之间使用空格,  不是”,”号</p>
</li>
<li><p>对于类似<code>let a+b</code>这样的写法，Shell 虽然计算了 a+b 的值，但却将结果丢弃, 如果 <code>echo let a+b</code> 会直接输出字符串 <code>a+b</code> ；若不想这样，可以使用<code>let sum=a+b</code>将 a+b 的结果保存在变量 sum 中。</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200703113800668.png" alt="image-20200703113800668"></p>
<p>输出建议使用(())</p>
</li>
</ol>
</blockquote>
<h2 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h2><p>需求</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 计算变量a-1赋值给变量b</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 计算变量a+变量b赋值给变量c</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 打印变量a,变量b, 变量c的值</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">let</span>多个表达式计算赋值</span></span><br></pre></td></tr></table></figure>



<p>calculate3.sh脚本代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 计算1+6赋值给变量a</span></span><br><span class="line">let a=1+6</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 计算变量a-1赋值给变量b</span></span><br><span class="line">let b=a-1</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 计算变量a+变量b赋值给变量c</span></span><br><span class="line">let c=a+b</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 打印变量a,变量b, 变量c的值</span></span><br><span class="line">echo &quot;a=$&#123;a&#125;,b=$&#123;b&#125;,c=$&#123;c&#125;&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">let</span>多个表达式计算赋值</span></span><br><span class="line">let a=1+6 b=a-1 c=a+b</span><br><span class="line">echo &quot;a=$&#123;a&#125;,b=$&#123;b&#125;,c=$&#123;c&#125;&quot;</span><br></pre></td></tr></table></figure>



<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200703114726267.png" alt="image-20200703114726267"></p>
<h2 id="小结-2"><a href="#小结-2" class="headerlink" title="小结"></a>小结</h2><p>let数字计算用法</p>
<p>作用: 用于赋值,是最简洁的整数运算赋值命令</p>
<blockquote>
<p>计算赋值用法: let 变量名=整数运算表达式</p>
<p>多个表达式计算赋值用法:   let 变量名1=整数运算表达式1  变量名2=整数运算表达式2 …</p>
</blockquote>
<h1 id="Shell计算命令：-命令详解-1"><a href="#Shell计算命令：-命令详解-1" class="headerlink" title="Shell计算命令：$[]命令详解"></a>Shell计算命令：$[]命令详解</h1><h2 id="目标-2"><a href="#目标-2" class="headerlink" title="目标"></a>目标</h2><p>能够使用$[]进行整数的数学运算</p>
<h2 id="介绍-3"><a href="#介绍-3" class="headerlink" title="介绍"></a>介绍</h2><p>和 (())、let 命令类似，$[] 也只能进行整数运算。但是只能对单个表达式的计算求值与输出</p>
<h2 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a>语法</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">[表达式]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<ol>
<li><p>$[] 会对<code>表达式</code>进行计算，并取得计算结果</p>
</li>
<li><p>表达式内部不可以赋值给变量</p>
</li>
</ol>
</blockquote>
<h2 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h2><p>calculate4.sh脚本代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 计算1+6赋值给变量a</span></span><br><span class="line">a=$[1+6]</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 计算变量a-1赋值给变量b</span></span><br><span class="line">b=$[a-1]</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 计算变量a+变量b赋值给变量c</span></span><br><span class="line">c=$[a+b]</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 打印变量a,变量b, 变量c的值</span></span><br><span class="line">echo &quot;a=$&#123;a&#125;,b=$&#123;b&#125;,c=$&#123;c&#125;&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 直接输出</span></span><br><span class="line">echo &quot;$[1+6],$[7-1],$[7+6]&quot;</span><br></pre></td></tr></table></figure>



<p>运行结果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200703135351633.png" alt="image-20200703135351633"></p>
<h2 id="小结-3"><a href="#小结-3" class="headerlink" title="小结"></a>小结</h2><p>执行整数表达式命令的总结, 推荐使用哪个</p>
<blockquote>
<p>expr</p>
<p>​    优点: 可以直接输出</p>
<p>​    缺点:  计算表达式里面引用变量使用$,  特殊字符需要转义  只能计算一个表达式</p>
<p>(()) (直接求值输出推荐方式)</p>
<p>​     优点:  直接输出, 里面直接使用变量名, 特殊字符不需要转义, 多个表达式赋值</p>
<p>​     缺点: 需要获取值以后才可以输出</p>
<p>let  (赋值推荐方式)</p>
<p>​     优点: 赋值简单,特殊字符不需要转义, </p>
<p>​     缺点: 不能直接输出</p>
<p>$[]</p>
<p>​    优点: ,特殊字符不需要转义, </p>
<p>​    缺点: 不能多表达是计算,</p>
</blockquote>
<h1 id="Shell计算命令：bc命令详解"><a href="#Shell计算命令：bc命令详解" class="headerlink" title="Shell计算命令：bc命令详解"></a>Shell计算命令：bc命令详解</h1><h2 id="目标-3"><a href="#目标-3" class="headerlink" title="目标"></a>目标</h2><p>理解bc命令的作用</p>
<p>能够在bc中进行互动式的数学运算</p>
<p>能够在shell中进行非互动式的bc管道运算</p>
<p>能够在shell中非互动式的输入重定向bc运算</p>
<h2 id="介绍-4"><a href="#介绍-4" class="headerlink" title="介绍"></a>介绍</h2><p>Bash shell内置了对整数运算的支持，但是并不支持浮点运算，而 linux bc (basic calculator)命令可以很方便的进行浮点运算. bc命令是Linux简单的计算器,能进行进制转换与计算。能转换的进制包括十六进制、十进制、八进制、二进制等。可以使用的运算符号包括(+)加法、(-)减法、(*)乘法、(/)除法、(^)指数、(%)余数等</p>
<h2 id="bc命令"><a href="#bc命令" class="headerlink" title="bc命令"></a>bc命令</h2><h3 id="语法-3"><a href="#语法-3" class="headerlink" title="语法"></a>语法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bc [options] [参数]</span><br></pre></td></tr></table></figure>

<h3 id="options"><a href="#options" class="headerlink" title="options"></a>options</h3><table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-h</td>
<td>help，帮助信息</td>
</tr>
<tr>
<td>-v</td>
<td>version，显示命令版本信息</td>
</tr>
<tr>
<td>==-l==</td>
<td>mathlib, 使用标准数学库, 例如使用内置函数就需要使用这个参数</td>
</tr>
<tr>
<td>-i</td>
<td>interactive, 强制交互</td>
</tr>
<tr>
<td>-w</td>
<td>warn, 显示 POSIX 的警告信息</td>
</tr>
<tr>
<td>-s</td>
<td>standard, 使用 POSIX 标准来处理</td>
</tr>
<tr>
<td>==-q==</td>
<td>quiet, 不显示欢迎信息</td>
</tr>
</tbody></table>
<blockquote>
<p>默认使用bc命令后回车会有很多欢迎信息，  可以使用  <code>bc -q</code>  回车后不会有欢迎信息 </p>
</blockquote>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><p>文件： 指定包含计算任务的文件。</p>
<h3 id="示例：bc执行计算任务的文件"><a href="#示例：bc执行计算任务的文件" class="headerlink" title="示例：bc执行计算任务的文件"></a>示例：bc执行计算任务的文件</h3><p>创建task.txt文件, 编辑文件内容(一个计算表达式一行)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">108*67+12345</span><br><span class="line">58+2007*11</span><br></pre></td></tr></table></figure>

<p>执行命令</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200703153959498.png" alt="image-20200703153959498"></p>
<blockquote>
<p>可以使用 <code>quit</code> 命令退出bc</p>
</blockquote>
<h2 id="内置变量"><a href="#内置变量" class="headerlink" title="内置变量"></a>内置变量</h2><table>
<thead>
<tr>
<th>变量名</th>
<th>作 用</th>
</tr>
</thead>
<tbody><tr>
<td>scale</td>
<td>指定精度，也即小数点后的位数, 对计算结果指定保留小数；默认为 0，也即不使用小数部分。</td>
</tr>
<tr>
<td>ibase</td>
<td>指定输入的数字的进制，默认为十进制。</td>
</tr>
<tr>
<td>obase</td>
<td>指定输出的数字的进制，默认为十进制。</td>
</tr>
<tr>
<td>last 或者 .</td>
<td>获取最近计算打印结果的数字</td>
</tr>
</tbody></table>
<h2 id="内置数学函数"><a href="#内置数学函数" class="headerlink" title="内置数学函数"></a>内置数学函数</h2><table>
<thead>
<tr>
<th>函数名</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>s(x)</td>
<td>计算 x 的正弦值，x 是弧度值。</td>
</tr>
<tr>
<td>c(x)</td>
<td>计算 x 的余弦值，x 是弧度值。</td>
</tr>
<tr>
<td>a(x)</td>
<td>计算 x 的反正切值，返回弧度值。</td>
</tr>
<tr>
<td>l(x)</td>
<td>计算 x 的自然对数。</td>
</tr>
<tr>
<td>e(x)</td>
<td>求 e 的 x 次方。</td>
</tr>
<tr>
<td>j(n, x)</td>
<td>贝塞尔函数，计算从 n 到 x 的阶数。</td>
</tr>
</tbody></table>
<h2 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h2><p>通常在linux下bc当计算器用, 具体有3个用法</p>
<ol>
<li>bc中互动式的数学运算</li>
<li>shell中非互动式的管道运算</li>
<li>shell中非互动式的输入重定向运算</li>
</ol>
<h2 id="示例：bc中互动式的数学运算"><a href="#示例：bc中互动式的数学运算" class="headerlink" title="示例：bc中互动式的数学运算"></a>示例：bc中互动式的数学运算</h2><h3 id="介绍-5"><a href="#介绍-5" class="headerlink" title="介绍"></a>介绍</h3><p>使用 <code>bc -q</code> 命令，回车即可,  直接进行计算器进行运算</p>
<h3 id="演示-1"><a href="#演示-1" class="headerlink" title="演示"></a>演示</h3><p><img src="https://file.coderstudy.cn/image/Pic/image-20200703151035148.png" alt="image-20200703151035148"></p>
<p>退出bc使用 <code>quit</code></p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200703151349964.png" alt="image-20200703151349964"></p>
<h2 id="示例：shell中非互动式的管道运算"><a href="#示例：shell中非互动式的管道运算" class="headerlink" title="示例：shell中非互动式的管道运算"></a>示例：shell中非互动式的管道运算</h2><h3 id="介绍-6"><a href="#介绍-6" class="headerlink" title="介绍"></a>介绍</h3><p>在 Shell 脚本中，我们可以借助管道使用 bc 计算器。</p>
<h3 id="借助管道使用-bc-计算器语法"><a href="#借助管道使用-bc-计算器语法" class="headerlink" title="借助管道使用 bc 计算器语法"></a>借助管道使用 bc 计算器语法</h3><p>直接进行bc的表达式计算输出</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;expression&quot; | bc [options]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>“expression” 表达式必须复合bc命令要求的公式</p>
<p>“expression”  表达式里面可以引用shell变量</p>
<p>例如:  Shell变量 <code>a=2</code>   在表达式里面引用的语法:  <code>$a</code></p>
</blockquote>
<p>将bc计算结果赋值给Shell变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 第一种方式</span></span><br><span class="line">var_name=`echo &quot;expression&quot; | bc [options]`</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 第二种方式</span></span><br><span class="line">var_name=$(echo &quot;expression&quot; | bc [options])</span><br></pre></td></tr></table></figure>

<blockquote>
<p>$() 与 `` 功能一样, 都是执行里面的命令</p>
<p>区别</p>
<p>​     `` 是所有linux系统支持的方式,  兼容性较好, 但是容易与引号产生混淆</p>
<p>​      $() 不是所有linux系统都支持的方式,  兼容性较差, 但是不容易产生混淆</p>
</blockquote>
<h3 id="演示-2"><a href="#演示-2" class="headerlink" title="演示"></a>演示</h3><p><img src="https://file.coderstudy.cn/image/Pic/image-20200703154646821.png" alt="image-20200703154646821"></p>
<p>引用shell变量进行计算</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200703155152427.png" alt="image-20200703155152427"></p>
<blockquote>
<p>注意 b是bc中定义的新变量, 与shell变量没有任何关系,  所以不可以在shell中获取b变量</p>
</blockquote>
<p>进制转换</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200703155732347.png" alt="image-20200703155732347"></p>
<h2 id="示例：shell中非互动式的输入重定向运算"><a href="#示例：shell中非互动式的输入重定向运算" class="headerlink" title="示例：shell中非互动式的输入重定向运算"></a>示例：shell中非互动式的输入重定向运算</h2><h3 id="介绍-7"><a href="#介绍-7" class="headerlink" title="介绍"></a>介绍</h3><p>将计算表达式输出给bc去执行, 特点类似于文件中输入,可以输入多行表达式, 更加清晰</p>
<h3 id="语法-4"><a href="#语法-4" class="headerlink" title="语法"></a>语法</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 第一种方式</span></span><br><span class="line">var_name=`bc [options] &lt;&lt; EOF</span><br><span class="line">第一行表达式1</span><br><span class="line">第二行表达式2</span><br><span class="line">...</span><br><span class="line">EOF</span><br><span class="line">`</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 第二种方式</span></span><br><span class="line">var_name=$(bc [options] &lt;&lt; EOF</span><br><span class="line">第一行表达式1</span><br><span class="line">第二行表达式2</span><br><span class="line">...</span><br><span class="line">EOF</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>var_name</code> 这是Shell变量的名字</p>
<p><code>bc</code> 执行bc的命令</p>
<p><code>EOF..EOF</code>  输入流的多行表达式</p>
<p>含义:  将EOF中间多行表达式输入给到bc去执行, j将bc执行的结果给到Shell变量var_name</p>
</blockquote>
<h3 id="演示-3"><a href="#演示-3" class="headerlink" title="演示"></a>演示</h3><p><img src="https://file.coderstudy.cn/image/Pic/image-20200703161628360.png" alt="image-20200703161628360"></p>
<blockquote>
<p>如果有大量的数学计算，那么使用输入重定向就比较方便，因为数学表达式可以换行，写起来更加清晰。</p>
</blockquote>
<h2 id="小结-4"><a href="#小结-4" class="headerlink" title="小结"></a>小结</h2><p>bc命令的作用</p>
<blockquote>
<p>是一个任意精度计算器</p>
</blockquote>
<p>在bc中进行互动式的数学运算</p>
<blockquote>
<p>bc -q  进入bc环境  直接输入一个算术表达式后回车 bc就会计算出结果输出</p>
</blockquote>
<p>在shell中进行非互动式的bc管道运算</p>
<blockquote>
<p>直接输出结果:  echo “bc表达式” |bc [options]<br>赋值给变量:  变量名=$(echo “bc表达式” |bc [options])</p>
</blockquote>
<p>在shell中非互动式的输入重定向bc运算</p>
<blockquote>
<p>变量名=$(bc &lt;&lt;  EOF</p>
<p>bc表达式</p>
<p>EOF</p>
<p>)</p>
<p>适合大量计算表达式</p>
</blockquote>
<h1 id="流程控制：if-else语句"><a href="#流程控制：if-else语句" class="headerlink" title="流程控制：if else语句"></a>流程控制：if else语句</h1><h2 id="目标-4"><a href="#目标-4" class="headerlink" title="目标"></a>目标</h2><p>能够使用if条件语句进行条件判断</p>
<h2 id="介绍-8"><a href="#介绍-8" class="headerlink" title="介绍"></a>介绍</h2><p>if条件判断逻辑控制语句</p>
<h2 id="if语法"><a href="#if语法" class="headerlink" title="if语法"></a>if语法</h2><p>多行写法语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if  条件</span><br><span class="line">then</span><br><span class="line">    命令</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以将if语句放入一行语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if 条件; then 命令; fi</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="if-else-语法"><a href="#if-else-语法" class="headerlink" title="if else 语法"></a>if else 语法</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if  条件</span><br><span class="line">then</span><br><span class="line">   命令</span><br><span class="line">else</span><br><span class="line">   命令</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h2 id="if-elif-else-语法"><a href="#if-elif-else-语法" class="headerlink" title="if elif else 语法"></a>if elif else 语法</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">if  条件1</span><br><span class="line">then</span><br><span class="line">   命令1</span><br><span class="line">elif 条件2</span><br><span class="line">then</span><br><span class="line">    命令2</span><br><span class="line">elif 条件3</span><br><span class="line">then</span><br><span class="line">    命令3</span><br><span class="line">……</span><br><span class="line">else</span><br><span class="line">   命令N</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>



<h2 id="演示-4"><a href="#演示-4" class="headerlink" title="演示"></a>演示</h2><p>需求</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">提示&quot;请输入你的考试成绩:&quot; 接收用户输入一个成绩, 之后使用if else条件句判断</span><br><span class="line">要求1: 小于 60 输出&quot;不及格&quot;</span><br><span class="line">要求2: 大于等于70 并且 小于80 输出&quot;中等&quot;</span><br><span class="line">要求3: 大于等于80 并且 小于90 输出&quot;良好&quot;</span><br><span class="line">要求4: 大于等于90 并且 小于等于100 输出&quot;优秀&quot;</span><br><span class="line">要求5: 以上不符合输出&quot;成绩不合法&quot;</span><br></pre></td></tr></table></figure>



<p>control1.sh脚本代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p &quot;请输入你的考试成绩:&quot; score</span><br><span class="line">if (( $score &lt; 60 )); then</span><br><span class="line">    echo &quot;不及格&quot;</span><br><span class="line">elif (( $score &gt;= 60 &amp;&amp; $score &lt; 70 )); then</span><br><span class="line">    echo &quot;及格&quot;</span><br><span class="line">elif (( $score &gt;= 70 &amp;&amp; $score &lt; 80 )); then</span><br><span class="line">    echo &quot;中等&quot;</span><br><span class="line">elif (( $score &gt;= 80 &amp;&amp; $score &lt; 90 )); then</span><br><span class="line">    echo &quot;良好&quot;</span><br><span class="line">elif (( $score &gt;= 90 &amp;&amp; $score &lt;= 100 )); then</span><br><span class="line">    echo &quot;优秀&quot;</span><br><span class="line">else</span><br><span class="line">    echo &quot;成绩不合法&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>(())</code>是一种数学计算命令，它除了可以进行最基本的加减乘除运算，还可以进行大于、小于、等于等关系运算，以及与、或、非逻辑运算。当 a 和 b 相等时，<code>(( $a == $b ))</code>判断条件成立，进入 if，执行 then 后边的 echo 语句</p>
</blockquote>
<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200703165220020.png" alt="image-20200703165220020"></p>
<h2 id="小结-5"><a href="#小结-5" class="headerlink" title="小结"></a>小结</h2><p>使用if条件语句进行条件判断</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">if 条件1 </span><br><span class="line">then</span><br><span class="line">	命令1</span><br><span class="line">elif 条件2 </span><br><span class="line">then</span><br><span class="line">	命令2</span><br><span class="line">elif 条件3 </span><br><span class="line">then</span><br><span class="line">	命令3</span><br><span class="line">...</span><br><span class="line">else </span><br><span class="line">	命令n</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>



<h1 id="if条件判断句的退出状态"><a href="#if条件判断句的退出状态" class="headerlink" title="if条件判断句的退出状态"></a>if条件判断句的退出状态</h1><h2 id="目标-5"><a href="#目标-5" class="headerlink" title="目标"></a>目标</h2><ol>
<li><p>理解什么是退出状态</p>
</li>
<li><p>能够查询每个命令的退出状态</p>
</li>
</ol>
<h2 id="介绍-9"><a href="#介绍-9" class="headerlink" title="介绍"></a>介绍</h2><p>linux任何命令的的执行都会有一个退出状态,  无论是内置命令还是外部文件命令. 还是自定义的 Shell 函数，当它退出（运行结束）时，都会返回一个比较小的整数值给调用（使用）它的程序，这就是命令的<strong>退出状态</strong></p>
<p>大多数命令状态0代表成功, 非0代表失败. 也有特殊的命令,比如 diff 命令用来比较两个文件的不同，对于“没有差别”的文件返回 0，对于“找到差别”的文件返回 1，对无效文件名返回 2</p>
<p> Shell 中，有多种方式取得命令的退出状态，其中 <code>$?</code> 是最常见的一种.</p>
<h2 id="演示-5"><a href="#演示-5" class="headerlink" title="演示"></a>演示</h2><p><img src="https://file.coderstudy.cn/image/Pic/image-20200703172613295.png" alt="image-20200703172613295"></p>
<h2 id="退出状态和逻辑运算符的组合"><a href="#退出状态和逻辑运算符的组合" class="headerlink" title="退出状态和逻辑运算符的组合"></a>退出状态和逻辑运算符的组合</h2><p>Shell if 语句使用逻辑运算符将多个退出状态组合起来，这样就可以一次判断多个条件了。</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>使用格式</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>&amp;&amp; 或 -a</td>
<td>条件1 &amp;&amp; 条件2</td>
<td>逻辑与运算符，当 条件1 和 条件2 同时成立时，<br>整个表达式才成立。  如果检测到 条件1 的退出状态为 0，<br>就不会再检测 条件2 了，因为不管 条件2 的退出状态是什么，<br>整个表达式必然都是不成立的，检测了也是多此一举。</td>
</tr>
<tr>
<td>|| 或 -o</td>
<td>条件1 || 条件2</td>
<td>逻辑或运算符，条件1 和 条件2 两个表<br>达式中只要有一个成立，整个表达式就成立。  如果检<br>测到 条件1 的退出状态为 1，就不会再检测 条件2 了，因为<br>不管 条件2 的退出状态是什么，整个表达式必然都是成立的，<br>检测了也是多此一举。</td>
</tr>
<tr>
<td>!</td>
<td>!条件</td>
<td>逻辑非运算符，相当于“取反”的效果。如果 条件 成立，那么整<br>个表达式就不成立；如果 条件 不成立，那么整个表达式就成立。</td>
</tr>
</tbody></table>
<h2 id="示例-3"><a href="#示例-3" class="headerlink" title="示例"></a>示例</h2><h3 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h3><p>提示输入”请输入文件全名: “和”请输入数据:” 并接收文件名与数据</p>
<p>使用逻辑运算符判断满足2 条件 :  文件需要具有可写权限  和   输入的数据长度不为0</p>
<p>满足以上2个条件 将用户输入的 数据 写入到指定的文件中去</p>
<h3 id="演示-6"><a href="#演示-6" class="headerlink" title="演示"></a>演示</h3><p>创建itheima.txt</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch itheima.txt</span><br></pre></td></tr></table></figure>

<p>control2.sh脚本文件代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p &quot;请输入文件全名: &quot; filename</span><br><span class="line">read -p &quot;请输入数据:&quot; data</span><br><span class="line">if [ -w $filename -a -n $data ]</span><br><span class="line">then</span><br><span class="line">        echo $data</span><br><span class="line">        echo $data &gt; $filename</span><br><span class="line">        echo &quot;成功&quot;</span><br><span class="line">else</span><br><span class="line">        echo &quot;失败&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<blockquote>
<p>test命令用于对文件或字符串进行检测,  <code>-w</code> 判断文件是否存在并且可写,  <code>-n</code> 用于检测字符串是否非空, 后续讲解.</p>
<p><code>$data &gt; $filename</code>   其中 <code>&gt;</code>  用于将内容输出到指定文件中去</p>
</blockquote>
<p>运行结果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200703183031637.png" alt="image-20200703183031637"></p>
<h2 id="小结-6"><a href="#小结-6" class="headerlink" title="小结"></a>小结</h2><ol>
<li><p>什么是退出状态</p>
<blockquote>
<p>每个命令运行后都会返回一个退出状态值,</p>
<p>大多数返回0代表成功,  非0 代表失败</p>
</blockquote>
</li>
<li><p>查询每个命令的退出状态</p>
<blockquote>
<p>常见命令 <code>$?</code></p>
</blockquote>
</li>
</ol>
<h1 id="Shell内置命令：test"><a href="#Shell内置命令：test" class="headerlink" title="Shell内置命令：test"></a>Shell内置命令：test</h1><h2 id="目标-6"><a href="#目标-6" class="headerlink" title="目标"></a>目标</h2><ol>
<li>理解test命令对整数比较测试</li>
<li>理解test命令对字符串</li>
<li>能够使用test命令对文件测试</li>
</ol>
<h2 id="介绍-10"><a href="#介绍-10" class="headerlink" title="介绍"></a>介绍</h2><p>Shell中的 test 命令用于检查某个条件是否成立，它可以进行数值、字符和文件三个方面的测试。</p>
<p>功能与[]一样</p>
<h2 id="整数比较测试"><a href="#整数比较测试" class="headerlink" title="整数比较测试"></a>整数比较测试</h2><h3 id="语法-5"><a href="#语法-5" class="headerlink" title="语法"></a>语法</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if test 数字1 options 数字2 </span><br><span class="line">then  </span><br><span class="line">...</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p>options具体如下</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-eq</td>
<td align="left">等于则为真</td>
</tr>
<tr>
<td align="left">-ne</td>
<td align="left">不等于则为真</td>
</tr>
<tr>
<td align="left">-gt</td>
<td align="left">大于则为真</td>
</tr>
<tr>
<td align="left">-ge</td>
<td align="left">大于等于则为真</td>
</tr>
<tr>
<td align="left">-lt</td>
<td align="left">小于则为真</td>
</tr>
<tr>
<td align="left">-le</td>
<td align="left">小于等于则为真</td>
</tr>
</tbody></table>
<h3 id="演示-7"><a href="#演示-7" class="headerlink" title="演示"></a>演示</h3><p>control3.sh脚本代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">num1=1 num2=1 num3=2</span><br><span class="line">echo &quot;num1=$&#123;num1&#125;,num2=$&#123;num2&#125;,num3=$&#123;num3&#125;&quot;</span><br><span class="line"></span><br><span class="line">if test $num1 -eq $num2</span><br><span class="line">then</span><br><span class="line">    echo &#x27;num1和num2两个数相等！&#x27;</span><br><span class="line">else</span><br><span class="line">    echo &#x27;num1和num2两个数不相等！&#x27;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if test $num2 -eq $num3</span><br><span class="line">then</span><br><span class="line">    echo &#x27;num2和num3两个数相等！&#x27;</span><br><span class="line">else</span><br><span class="line">    echo &#x27;num2和num3两个数不相等！&#x27;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200704063911230.png" alt="image-20200704063911230"></p>
<h2 id="字符串比较测试"><a href="#字符串比较测试" class="headerlink" title="字符串比较测试"></a>字符串比较测试</h2><h3 id="语法-6"><a href="#语法-6" class="headerlink" title="语法"></a>语法</h3><table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">= 或  ==</td>
<td align="left">等于, 等于返回0代表成功,否则返回1代表失败</td>
</tr>
<tr>
<td align="left">!=</td>
<td align="left">不等于</td>
</tr>
<tr>
<td align="left"><code>\&lt;</code></td>
<td align="left">小于</td>
</tr>
<tr>
<td align="left"><code>\&gt;</code></td>
<td align="left">大于</td>
</tr>
<tr>
<td align="left">-z 字符串</td>
<td align="left">字符串的长度为零则为真</td>
</tr>
<tr>
<td align="left">-n 字符串</td>
<td align="left">字符串的长度不为零则为真</td>
</tr>
</tbody></table>
<h3 id="演示-8"><a href="#演示-8" class="headerlink" title="演示"></a>演示</h3><p>control4.sh脚本代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">str1=&quot;itheima&quot; str2=&quot;itcast&quot; str3=&quot;&quot;</span><br><span class="line">echo &quot;str1=$&#123;str1&#125;,str2=$&#123;str2&#125;,str3=$&#123;str3&#125;&quot;</span><br><span class="line"></span><br><span class="line">if test $str1 = $str2</span><br><span class="line">then</span><br><span class="line">    echo &#x27;str1和str2两个字符串相等&#x27;</span><br><span class="line">else</span><br><span class="line">    echo &#x27;str1和str2两个字符串不相等&#x27;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if test $str1 \&gt; $str2</span><br><span class="line">then</span><br><span class="line">    echo &#x27;str1大于str2&#x27;</span><br><span class="line">else</span><br><span class="line">    echo &#x27;str1小于str2&#x27;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if test -z $str2</span><br><span class="line">then</span><br><span class="line">	echo &quot;str2字符串长度为0&quot;</span><br><span class="line">else</span><br><span class="line">	echo &quot;str2字符串长度不为0&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if test -z $str3</span><br><span class="line">then</span><br><span class="line">	echo &quot;str3字符串长度为0&quot;</span><br><span class="line">else</span><br><span class="line">	echo &quot;str3字符串长度不为0&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200704114310717.png" alt="image-20200704114310717"></p>
<h2 id="文件测试"><a href="#文件测试" class="headerlink" title="文件测试"></a>文件测试</h2><h3 id="语法-7"><a href="#语法-7" class="headerlink" title="语法"></a>语法</h3><table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">==-e 文件名==</td>
<td align="left">exists, 如果文件存在则为真</td>
</tr>
<tr>
<td align="left">==-r 文件名==</td>
<td align="left">read,如果文件存在且可读则为真</td>
</tr>
<tr>
<td align="left">==-w 文件名==</td>
<td align="left">write,如果文件存在且可写则为真</td>
</tr>
<tr>
<td align="left">==-x 文件名==</td>
<td align="left">execute,如果文件存在且可执行则为真</td>
</tr>
<tr>
<td align="left">==-s 文件名==</td>
<td align="left">string,如果文件存在且至少有一个字符则为真</td>
</tr>
<tr>
<td align="left">==-d 文件名==</td>
<td align="left">directory,如果文件存在且为目录则为真</td>
</tr>
<tr>
<td align="left">-f 文件名</td>
<td align="left">file,如果文件存在且为普通文件则为真</td>
</tr>
<tr>
<td align="left">-c 文件名</td>
<td align="left">character,如果文件存在且为字符型特殊文件则为真</td>
</tr>
<tr>
<td align="left">-b 文件名</td>
<td align="left">如果文件存在且为块特殊文件则为真</td>
</tr>
</tbody></table>
<h3 id="演示-9"><a href="#演示-9" class="headerlink" title="演示"></a>演示</h3><p>查询control1.sh与control2.sh文件</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200704074537077.png" alt="image-20200704074537077"></p>
<p>control5.sh脚本代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">if test -w ./control1.sh</span><br><span class="line">then</span><br><span class="line">    echo &#x27;文件已存在并且可写!&#x27;</span><br><span class="line">else</span><br><span class="line">    echo &#x27;文件不存在或不可写!&#x27;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if test -e ./control1.sh -a -e ./control2.sh</span><br><span class="line">then</span><br><span class="line">    echo &#x27;两个文件都存在!&#x27;</span><br><span class="line">else</span><br><span class="line">    echo &#x27;可能有一个或两个文件不存在&#x27;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Shell提供了与( -a )、或( -o )、非( ! )三个逻辑操作符用于将测试条件连接起来，其优先级为：”!”最高，”-a”次之，”-o”最低,  语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test 条件1 -o 条件2 -a 条件3 ...</span><br></pre></td></tr></table></figure>
</blockquote>
<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200704074322642.png" alt="image-20200704074322642"></p>
<h2 id="小结-7"><a href="#小结-7" class="headerlink" title="小结"></a>小结</h2><ol>
<li><p>test命令对整数比较测试</p>
<blockquote>
<p><code>test  整数1 options 整数2</code></p>
<p>options:  <code>lt le gt ge eq ne</code></p>
</blockquote>
</li>
<li><p>test命令对字符串比较测试</p>
<blockquote>
<p><code>test 变量1 options 变量2</code></p>
<p>options: <code>&gt; &lt; != = ==</code> </p>
<p><code>&lt; &gt;</code> 需要转义</p>
</blockquote>
</li>
<li><p>使用test命令对文件测试</p>
<blockquote>
<p><code>test options 文件路径字符串</code></p>
<p>options: <code>-w -r -e -x -s -d</code></p>
</blockquote>
</li>
</ol>
<p>​      注意: test命令与[] 功能一样</p>
<h1 id="流程控制：case语句"><a href="#流程控制：case语句" class="headerlink" title="流程控制：case语句"></a>流程控制：case语句</h1><h2 id="目标-7"><a href="#目标-7" class="headerlink" title="目标"></a>目标</h2><p>理解使用case多分支条件判断</p>
<h2 id="介绍-11"><a href="#介绍-11" class="headerlink" title="介绍"></a>介绍</h2><p>Shell case语句为多选择语句。可以用case语句匹配一个值与一个模式，如果匹配成功，执行相匹配的命令;</p>
<p>当分支较多，并且判断条件比较简单时，使用 case in 语句就比较方便了。</p>
<h2 id="语法-8"><a href="#语法-8" class="headerlink" title="语法"></a>语法</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">case 值 in</span><br><span class="line">匹配模式1)</span><br><span class="line">    命令1</span><br><span class="line">    命令2</span><br><span class="line">    ...</span><br><span class="line">    ;;</span><br><span class="line">匹配模式2）</span><br><span class="line">    命令1</span><br><span class="line">    命令2</span><br><span class="line">    ...</span><br><span class="line">    ;;</span><br><span class="line">*)</span><br><span class="line">    命令1</span><br><span class="line">    命令2</span><br><span class="line">    ...</span><br><span class="line">    ;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

<p>每一匹配模式必须以右括号结束。取值可以为变量或常数。匹配发现取值符合某一模式后，其间所有命令开始执行直至 ;;(类似break, 不可以替代否则语法报错)。取值将检测匹配的每一个模式。一旦模式匹配，则执行完匹配模式相应命令后不再继续其他模式。如果无一匹配模式，使用星号 * 捕获该值，再执行后面的命令。</p>
<p>case、in 和 esac 都是 Shell 关键字,   esac就是case的反写在这里代表结束case</p>
<p>匹配模式:  可以是一个数字、一个字符串，甚至是一个简单正则表达式。</p>
<p>简单正则表达式支持如下通配符</p>
<table>
<thead>
<tr>
<th>格式</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>表示任意字符串。</td>
</tr>
<tr>
<td>[abc]</td>
<td>表示 a、b、c 三个字符中的任意一个。比如，[15ZH] 表示 1、5、Z、H 四个字符中的任意一个。</td>
</tr>
<tr>
<td>[m-n]</td>
<td>表示从 m 到 n 的任意一个字符。比如，[0-9] 表示任意一个数字，[0-9a-zA-Z] 表示字母或数字。</td>
</tr>
<tr>
<td>|</td>
<td>表示多重选择，类似逻辑运算中的或运算。比如，abc | xyz 表示匹配字符串 “abc” 或者 “xyz”。</td>
</tr>
</tbody></table>
<h2 id="演示-10"><a href="#演示-10" class="headerlink" title="演示"></a>演示</h2><p>control6.sh脚本代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p &quot;请输入一个0~7的数字:&quot; number</span><br><span class="line">case $number in</span><br><span class="line">1)</span><br><span class="line">    echo &quot;星期一&quot;</span><br><span class="line">	;;</span><br><span class="line">2)</span><br><span class="line">    echo &quot;星期二&quot;</span><br><span class="line">    ;;</span><br><span class="line">3)</span><br><span class="line">    echo &quot;星期三&quot;</span><br><span class="line">    ;;</span><br><span class="line">4)</span><br><span class="line">    echo &quot;星期四&quot;</span><br><span class="line">    ;;</span><br><span class="line">5)</span><br><span class="line">    echo &quot;星期五&quot;</span><br><span class="line">    ;;</span><br><span class="line">6)</span><br><span class="line">    echo &quot;星期六&quot;</span><br><span class="line">    ;;</span><br><span class="line">0|7)</span><br><span class="line">    echo &quot;星期日&quot;</span><br><span class="line">    ;;</span><br><span class="line">*)</span><br><span class="line">    echo &quot;您输入的数字无效&quot;</span><br><span class="line">    ;; </span><br><span class="line">esac</span><br></pre></td></tr></table></figure>



<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200704142506942.png" alt="image-20200704142506942"></p>
<h2 id="小结-8"><a href="#小结-8" class="headerlink" title="小结"></a>小结</h2><p>使用case多分支条件判断语法</p>
<blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">case 表达式 in</span><br><span class="line">模式1)</span><br><span class="line">	命令</span><br><span class="line">	...</span><br><span class="line">	;;</span><br><span class="line">模式2)</span><br><span class="line">	命令</span><br><span class="line">	...</span><br><span class="line">	;;</span><br><span class="line">...</span><br><span class="line">*)</span><br><span class="line">	命令</span><br><span class="line">	...</span><br><span class="line">	;;</span><br><span class="line">	</span><br></pre></td></tr></table></figure>


</blockquote>
<h1 id="流程控制：while语句"><a href="#流程控制：while语句" class="headerlink" title="流程控制：while语句"></a>流程控制：while语句</h1><h2 id="目标-8"><a href="#目标-8" class="headerlink" title="目标"></a>目标</h2><p>理解whlie循环的使用</p>
<h2 id="介绍-12"><a href="#介绍-12" class="headerlink" title="介绍"></a>介绍</h2><p>while用于循环执行一系列命令</p>
<h2 id="语法-9"><a href="#语法-9" class="headerlink" title="语法"></a>语法</h2><p>多行写法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">while 条件</span><br><span class="line">do</span><br><span class="line">	命令1</span><br><span class="line">	命令2</span><br><span class="line">	...</span><br><span class="line">	continue; # 结束当前这一次循环, 进入下一次循环</span><br><span class="line">	break; # 结束当前循环</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>一行写法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">while 条件; do 命令; done;</span><br></pre></td></tr></table></figure>

<h2 id="演示-11"><a href="#演示-11" class="headerlink" title="演示"></a>演示</h2><p>control7.sh脚本文件代码: 输出指定多少次的hello world</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p &quot;请输入一个数字:&quot; number</span><br><span class="line">i=0</span><br><span class="line">while [[ $i &lt; $number ]]</span><br><span class="line">do</span><br><span class="line">  echo &quot;hello world&quot;</span><br><span class="line">  ((i++))</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200704145024719.png" alt="image-20200704145024719"></p>
<h2 id="无限循环"><a href="#无限循环" class="headerlink" title="无限循环"></a>无限循环</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while :</span><br><span class="line">do</span><br><span class="line">    command</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>或</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while true</span><br><span class="line">do</span><br><span class="line">    command</span><br><span class="line">done</span><br></pre></td></tr></table></figure>



<h2 id="小结-9"><a href="#小结-9" class="headerlink" title="小结"></a>小结</h2><p>whlie循环的使用语法</p>
<blockquote>
<p>while 条件</p>
<p>do</p>
<p>​    命令</p>
<p>done</p>
</blockquote>
<h1 id="流程控制：until语句"><a href="#流程控制：until语句" class="headerlink" title="流程控制：until语句"></a>流程控制：until语句</h1><h2 id="目标-9"><a href="#目标-9" class="headerlink" title="目标"></a>目标</h2><p>理解until循环结构的使用</p>
<h2 id="介绍-13"><a href="#介绍-13" class="headerlink" title="介绍"></a>介绍</h2><p>until 也是循环结构语句,  until 循环与 while 循环在处理方式上刚好相反,  循环条件为false会一致循环, 条件为true停止循环.</p>
<h2 id="语法-10"><a href="#语法-10" class="headerlink" title="语法"></a>语法</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">until 条件</span><br><span class="line">do</span><br><span class="line">    命令</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>条件如果返回值为1(代表false)，则继续执行循环体内的语句，否则跳出循环。</p>
<h2 id="演示-12"><a href="#演示-12" class="headerlink" title="演示"></a>演示</h2><p>control8.sh脚本代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p &quot;请输入一个数字:&quot; number</span><br><span class="line">i=0</span><br><span class="line">until [[ ! $i &lt; $number ]]</span><br><span class="line">do</span><br><span class="line">  echo &quot;hello world&quot;</span><br><span class="line">  ((i++))</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200704155626936.png" alt="image-20200704155626936"></p>
<h2 id="小结-10"><a href="#小结-10" class="headerlink" title="小结"></a>小结</h2><p>until循环结构的使用语法</p>
<blockquote>
<p>until 条件</p>
<p>do</p>
<p>​    命令</p>
<p>done</p>
<p>条件为false继续循环, 为true停止循环</p>
</blockquote>
<h1 id="流程控制：for语句"><a href="#流程控制：for语句" class="headerlink" title="流程控制：for语句"></a>流程控制：for语句</h1><h2 id="目标-10"><a href="#目标-10" class="headerlink" title="目标"></a>目标</h2><p>能够使用for进行循环操作</p>
<h2 id="介绍-14"><a href="#介绍-14" class="headerlink" title="介绍"></a>介绍</h2><p>Shell支持for循环,  与其他编程语言类似.</p>
<h2 id="循环方式1"><a href="#循环方式1" class="headerlink" title="循环方式1"></a>循环方式1</h2><h3 id="语法-11"><a href="#语法-11" class="headerlink" title="语法"></a>语法</h3><p>多行写法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for var in item1 item2 ... itemN</span><br><span class="line">do</span><br><span class="line">    命令1</span><br><span class="line">    命令2</span><br><span class="line">    ...</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>一行写法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for var in item1 item2 ... itemN; do 命令1; 命令2…; done;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>var是循环变量</p>
<p>item1 item2 … itemN 是循环的范围</p>
</blockquote>
<h3 id="演示-13"><a href="#演示-13" class="headerlink" title="演示"></a>演示</h3><p>control9.sh脚本代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">for i in 1 2 3 4 5</span><br><span class="line">do</span><br><span class="line"> echo &quot;hello world&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure>



<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200704164037719.png" alt="image-20200704164037719"></p>
<h2 id="循环方式2"><a href="#循环方式2" class="headerlink" title="循环方式2"></a>循环方式2</h2><h3 id="语法-12"><a href="#语法-12" class="headerlink" title="语法"></a>语法</h3><p>多行写法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for var in &#123;start..end&#125;</span><br><span class="line">do</span><br><span class="line">	命令</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<blockquote>
<p>start:  循环范围的起始值,必须为整数</p>
<p>end: 循环范围的结束值, 必须为整数</p>
</blockquote>
<p>一行写法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for var in &#123;start..end&#125;; do 命令; done</span><br></pre></td></tr></table></figure>



<h3 id="演示-14"><a href="#演示-14" class="headerlink" title="演示"></a>演示</h3><p>循环1到5并打印</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for i in &#123;1..5&#125;; do echo $i; done</span><br></pre></td></tr></table></figure>

<p>效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200704162438406.png" alt="image-20200704162438406"></p>
<h2 id="循环方式3"><a href="#循环方式3" class="headerlink" title="循环方式3"></a>循环方式3</h2><h3 id="语法-13"><a href="#语法-13" class="headerlink" title="语法"></a>语法</h3><p>多行写法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for((i=start;i&lt;=end;i++))</span><br><span class="line">do</span><br><span class="line">	命令</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>一行写法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for((i=start;i&lt;=end;i++)); do 命令; done</span><br></pre></td></tr></table></figure>

<h3 id="演示-15"><a href="#演示-15" class="headerlink" title="演示"></a>演示</h3><p><img src="https://file.coderstudy.cn/image/Pic/image-20200704165553702.png" alt="image-20200704165553702"></p>
<h2 id="无限循环-1"><a href="#无限循环-1" class="headerlink" title="无限循环"></a>无限循环</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for((;;)); do 命令; done</span><br></pre></td></tr></table></figure>



<h2 id="小结-11"><a href="#小结-11" class="headerlink" title="小结"></a>小结</h2><p>使用for进行循环操作的3种方式</p>
<blockquote>
<p>方式1:  <code>for i in item1 item2 ...; do 命令; done</code></p>
<p>方式2:  <code>for i in &#123;start..end&#125;; do 命令; done</code></p>
<p>方式3:  <code>for((i=start;i&lt;=end;i++)); do 命令; done</code></p>
</blockquote>
<h1 id="流程控制：select语句"><a href="#流程控制：select语句" class="headerlink" title="流程控制：select语句"></a>流程控制：select语句</h1><h2 id="目标-11"><a href="#目标-11" class="headerlink" title="目标"></a>目标</h2><p>能够使用select语句进行菜单选择输入</p>
<h2 id="介绍-15"><a href="#介绍-15" class="headerlink" title="介绍"></a>介绍</h2><p>select in 循环用来增强交互性，它可以显示出带编号的菜单，用户输入不同的编号就可以选择不同的菜单，并执行不同的功能.   select in 是 Shell 独有的一种循环，非常适合终端（Terminal）这样的交互场景, 其他语言没有;</p>
<h2 id="语法-14"><a href="#语法-14" class="headerlink" title="语法"></a>语法</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select var in menu1 menu2 ...</span><br><span class="line">do</span><br><span class="line">    命令</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意: select 是无限循环（死循环），输入空值，或者输入的值无效，都不会结束循环，只有遇到 break 语句，或者按下 Ctrl+D 组合键才能结束循环。</p>
<p>执行命令过程中: 终端会输出 <code>#?</code>  代表可以输入选择的菜单编号</p>
</blockquote>
<h2 id="演示1"><a href="#演示1" class="headerlink" title="演示1"></a>演示1</h2><p>脚本代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">echo &quot;你的爱好是什么?&quot;</span><br><span class="line">select hobby in &quot;编程&quot; &quot;游戏&quot; &quot;篮球&quot; &quot;游泳&quot;</span><br><span class="line">do</span><br><span class="line">	echo $hobby</span><br><span class="line">    break</span><br><span class="line">done</span><br><span class="line">echo &quot;你的爱好是:$&#123;hobby&#125;&quot;</span><br></pre></td></tr></table></figure>

<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200709171835755.png" alt="image-20200709171835755"></p>
<h2 id="演示2"><a href="#演示2" class="headerlink" title="演示2"></a>演示2</h2><p>脚本文件代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">echo &quot;你的爱好是什么&quot;</span><br><span class="line">select hobby in &quot;编程&quot; &quot;游戏&quot; &quot;篮球&quot; &quot;游泳&quot;</span><br><span class="line">do</span><br><span class="line">    case $hobby in</span><br><span class="line">        &quot;编程&quot;)</span><br><span class="line">            echo &quot;编程,多敲代码&quot;</span><br><span class="line">            break</span><br><span class="line">            ;;</span><br><span class="line">        &quot;游戏&quot;)</span><br><span class="line">            echo &quot;少玩游戏&quot;</span><br><span class="line">            break</span><br><span class="line">            ;;</span><br><span class="line">        &quot;篮球&quot;|&quot;游泳&quot;)</span><br><span class="line">            echo &quot;运动有利健康&quot;</span><br><span class="line">            break</span><br><span class="line">            ;;</span><br><span class="line">        *)</span><br><span class="line">            echo &quot;输入错误，请重新输入&quot;</span><br><span class="line">    esac</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200709172353670.png" alt="image-20200709172353670"></p>
<h2 id="小结-12"><a href="#小结-12" class="headerlink" title="小结"></a>小结</h2><p>select的作用</p>
<blockquote>
<p>用于交互式循环输入选择菜单</p>
<p>常与 case in 一起配合使用</p>
</blockquote>
<h1 id="Shell函数：系统函数"><a href="#Shell函数：系统函数" class="headerlink" title="Shell函数：系统函数"></a>Shell函数：系统函数</h1><h2 id="目标-12"><a href="#目标-12" class="headerlink" title="目标"></a>目标</h2><ol>
<li>理解函数的分类</li>
<li>理解常用的系统函数</li>
</ol>
<h2 id="函数介绍"><a href="#函数介绍" class="headerlink" title="函数介绍"></a>函数介绍</h2><p>Shell编程和其他编程语言一样, 有函数,  函数是由若干条shell命令组成的语句块，实现Shell脚本代码重用和模块化编程。</p>
<h2 id="函数分类"><a href="#函数分类" class="headerlink" title="函数分类"></a>函数分类</h2><ol>
<li>系统函数</li>
<li>自定义函数</li>
</ol>
<h2 id="系统函数介绍"><a href="#系统函数介绍" class="headerlink" title="系统函数介绍"></a>系统函数介绍</h2><p>系统自带提供的函数, 可以直接使用.</p>
<h2 id="basename系统函数"><a href="#basename系统函数" class="headerlink" title="basename系统函数"></a>basename系统函数</h2><h3 id="介绍-16"><a href="#介绍-16" class="headerlink" title="介绍"></a>介绍</h3><p>basename函数用于获取文件名的函数,  根据给出的文件路径截取出文件名</p>
<h3 id="语法-15"><a href="#语法-15" class="headerlink" title="语法"></a>语法</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">basename [string / pathname] [suffix]  </span><br></pre></td></tr></table></figure>

<blockquote>
<p>根据根据指定字符串或路径名进行截取文件名,  比如:  根据路径”/one/two/aa.txt”,  可以截取出aa.txt</p>
<p>suffix: 用于截取的时候去掉指定的后缀名.</p>
</blockquote>
<h3 id="演示-16"><a href="#演示-16" class="headerlink" title="演示"></a>演示</h3><p><img src="https://file.coderstudy.cn/image/Pic/image-20200704175505682.png" alt="image-20200704175505682"></p>
<h2 id="dirname系统函数"><a href="#dirname系统函数" class="headerlink" title="dirname系统函数"></a>dirname系统函数</h2><h3 id="介绍-17"><a href="#介绍-17" class="headerlink" title="介绍"></a>介绍</h3><p>从指定的文件绝对路径,  去除文件名，返回剩下的前缀目录路径</p>
<h3 id="语法-16"><a href="#语法-16" class="headerlink" title="语法"></a>语法</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dirname 文件绝对路径</span><br></pre></td></tr></table></figure>



<h3 id="演示-17"><a href="#演示-17" class="headerlink" title="演示"></a>演示</h3><p><img src="https://file.coderstudy.cn/image/Pic/image-20200704184207793.png" alt="image-20200704184207793"></p>
<h2 id="小结-13"><a href="#小结-13" class="headerlink" title="小结"></a>小结</h2><ol>
<li><p>函数的分类</p>
<blockquote>
<p>系统函数</p>
<p>自定义函数</p>
</blockquote>
</li>
<li><p>常用的系统函数</p>
<blockquote>
<p>basename 用于从指定路径中获取文件名</p>
<p>dirname 用于从指定的路径中获取目录名, 去掉文件名</p>
</blockquote>
</li>
</ol>
<h1 id="Shell函数：自定义函数"><a href="#Shell函数：自定义函数" class="headerlink" title="Shell函数：自定义函数"></a>Shell函数：自定义函数</h1><h2 id="目标-13"><a href="#目标-13" class="headerlink" title="目标"></a>目标</h2><ol>
<li>能够使用Shell的自定义函数实现代码重用</li>
<li>能够说出Shell程序命令与函数的区别</li>
</ol>
<h2 id="介绍-18"><a href="#介绍-18" class="headerlink" title="介绍"></a>介绍</h2><p>开发人员可以通过自定义开发函数,实现代码重用.</p>
<h2 id="语法-17"><a href="#语法-17" class="headerlink" title="语法"></a>语法</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 函数的定义</span></span><br><span class="line">[ function ] funname ()</span><br><span class="line">&#123;</span><br><span class="line">    命令</span><br><span class="line">    [return 返回值]</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 调用函数</span></span><br><span class="line">funname 传递参数1 传递参数2 ...</span><br></pre></td></tr></table></figure>

<blockquote>
<ol>
<li><p>可以带function fun() 定义，也可以直接fun() 定义,不带任何参数。</p>
</li>
<li><p>参数返回，可以显示加：return 返回，如果不加，将以最后一条命令运行结果，作为返回值。 return后跟数值n(0~255)</p>
</li>
</ol>
</blockquote>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>必须在调用函数地方之前，先声明函数，shell脚本是逐行运行,  只要先运行了函数, 后面才可以时使用函数</p>
<h2 id="示例：无参无返回值函数"><a href="#示例：无参无返回值函数" class="headerlink" title="示例：无参无返回值函数"></a>示例：无参无返回值函数</h2><p>文件脚本代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">demo()</span><br><span class="line">&#123;</span><br><span class="line">    echo &quot;执行了函数&quot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 调用函数</span></span><br><span class="line">demo</span><br></pre></td></tr></table></figure>



<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200709173619130.png" alt="image-20200709173619130"></p>
<h2 id="示例：无参有返回值函数"><a href="#示例：无参有返回值函数" class="headerlink" title="示例：无参有返回值函数"></a>示例：无参有返回值函数</h2><p>fun2.sh文件脚本代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">sum()</span><br><span class="line">&#123;</span><br><span class="line">    echo &quot;求两个数的和...&quot;</span><br><span class="line">    read -p &quot;输入第一个数字: &quot; n1</span><br><span class="line">    read -p &quot;输入第二个数字: &quot; n2</span><br><span class="line">    echo &quot;两个数字分别为 $n1 和 $n2 &quot;</span><br><span class="line">    return $(($n1+$n2))</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 调用函数</span></span><br><span class="line">sum</span><br><span class="line">echo &quot;两个数字的和为: $? &quot;  # 获取函数返回值</span><br></pre></td></tr></table></figure>

<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200704211609666.png" alt="image-20200704211609666"></p>
<h2 id="示例：有参函数"><a href="#示例：有参函数" class="headerlink" title="示例：有参函数"></a>示例：有参函数</h2><h3 id="介绍-19"><a href="#介绍-19" class="headerlink" title="介绍"></a>介绍</h3><p>在Shell中，调用函数时可以向其传递参数。在函数体内部，通过 <code>$n</code> 的形式来获取参数的值，例如，<code>$1</code> 表示第一个参数，<code>$2</code> 表示第二个参数…</p>
<p>其他参数介绍</p>
<table>
<thead>
<tr>
<th align="left">参数处理</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$#</td>
<td align="left">传递到脚本或函数的参数个数</td>
</tr>
<tr>
<td align="left">$*</td>
<td align="left">以一个单字符串显示所有向脚本传递的参数</td>
</tr>
<tr>
<td align="left">$$</td>
<td align="left">脚本运行的当前进程ID号</td>
</tr>
<tr>
<td align="left">$!</td>
<td align="left">后台运行的最后一个进程的ID号</td>
</tr>
<tr>
<td align="left">$@</td>
<td align="left">与$*相同，但是使用时加引号，并在引号中返回每个参数。</td>
</tr>
<tr>
<td align="left">$?</td>
<td align="left">显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。</td>
</tr>
</tbody></table>
<h3 id="演示-18"><a href="#演示-18" class="headerlink" title="演示"></a>演示</h3><p>fun3.sh文件脚本代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">funParam()&#123;</span><br><span class="line">    echo &quot;第一个参数为 $1 !&quot;</span><br><span class="line">    echo &quot;第二个参数为 $2 !&quot;</span><br><span class="line">    echo &quot;第十个参数为 $10 !&quot;</span><br><span class="line">    echo &quot;第十个参数为 $&#123;10&#125; !&quot;</span><br><span class="line">    echo &quot;第十一个参数为 $&#123;11&#125; !&quot;</span><br><span class="line">    echo &quot;参数总数有 $# 个!&quot;</span><br><span class="line">    echo &quot;作为一个字符串输出所有参数 $* !&quot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 调用函数</span></span><br><span class="line">funParam 1 2 3 4 5 6 7 8 9 10 22</span><br></pre></td></tr></table></figure>

<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200704213119988.png" alt="image-20200704213119988"></p>
<h2 id="Shell程序与函数的区别"><a href="#Shell程序与函数的区别" class="headerlink" title="Shell程序与函数的区别"></a>Shell程序与函数的区别</h2><h3 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h3><p>函数和shell程序比较相似，区别在于：<br>    Shell 程序(内置命令和外部脚本文件),  外部脚本文件是在子Shell中运行,  会开启独立的进程运行<br>    Shell函数在当前Shell的进程中运行</p>
<h3 id="演示-19"><a href="#演示-19" class="headerlink" title="演示"></a>演示</h3><p>fun4.sh脚本文件代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">demo()&#123;</span><br><span class="line">        echo &quot;函数中打印当前进程ID:$$&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">echo &quot;当前脚本文件(Shell程序)打印当前进程ID:$$&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 调用函数</span></span><br><span class="line">demo</span><br></pre></td></tr></table></figure>

<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200704214505694.png" alt="image-20200704214505694"></p>
<h2 id="小结-14"><a href="#小结-14" class="headerlink" title="小结"></a>小结</h2><ol>
<li><p>使用Shell的自定义函数实现代码重用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">函数名()&#123;</span><br><span class="line">	命令</span><br><span class="line"><span class="meta">	#</span><span class="bash"> 使用<span class="variable">$n</span>获取函数的参数</span></span><br><span class="line">	[return 返回值]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>说出Shell程序命令与函数的区别</p>
<blockquote>
<p>Shell程序命令:  运行命令时开启一个子进程运行命令</p>
<p>函数: 在当前Shell环境中运行, 没有开启进程</p>
</blockquote>
</li>
</ol>
<h1 id="Shell重定向输入输出"><a href="#Shell重定向输入输出" class="headerlink" title="Shell重定向输入输出"></a>Shell重定向输入输出</h1><h2 id="目标-14"><a href="#目标-14" class="headerlink" title="目标"></a>目标</h2><ol>
<li>理解Shell重定向的含义</li>
<li>能够使用重定向输出数据到文件中保存</li>
<li>能够使用重定向从文件中读取输入数据</li>
</ol>
<h2 id="重定向介绍"><a href="#重定向介绍" class="headerlink" title="重定向介绍"></a>重定向介绍</h2><h3 id="标准输入介绍"><a href="#标准输入介绍" class="headerlink" title="标准输入介绍"></a>标准输入介绍</h3><p>从键盘读取用户输入的数据，然后再把数据拿到Shell程序中使用；</p>
<h3 id="标准输出介绍"><a href="#标准输出介绍" class="headerlink" title="标准输出介绍"></a>标准输出介绍</h3><p>Shell程序产生的数据，这些数据一般都是呈现到显示器上供用户浏览查看;</p>
<h3 id="默认输入输出文件"><a href="#默认输入输出文件" class="headerlink" title="默认输入输出文件"></a>默认输入输出文件</h3><p>每个 Unix/Linux 命令运行时都会打开三个文件,  文件如下</p>
<table>
<thead>
<tr>
<th>文件名</th>
<th>类型</th>
<th>文件描述符(file description, fd)</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>stdin</td>
<td>(standard input)<br>标准输入文件</td>
<td>0</td>
<td>获取键盘的输入数据</td>
</tr>
<tr>
<td>stdout</td>
<td>(standard output)<br/>标准输出文件</td>
<td>1</td>
<td>将正确数据输出到显示器上</td>
</tr>
<tr>
<td>stderr</td>
<td>(standard error)<br/>标准错误输出文件</td>
<td>2</td>
<td>将错误信息输出到显示器上</td>
</tr>
</tbody></table>
<blockquote>
<p>每个文件都有一个唯一的 <strong>文件描述符fd</strong>,  后面会通过唯一 <strong>文件描述符fd</strong> 操作对应的信息</p>
</blockquote>
<p>Shell程序操作输入输出时用到这3个文件</p>
<ol>
<li>Shell程序默认会从stdin文件中读取输入数据</li>
<li>Shell程序默认会向stdout文件输出正确数据</li>
<li>Shell程序默认会项stderr文件中输出错误信息</li>
</ol>
<p>这3个文件用于临时传输数据使用</p>
<h3 id="重定向输入输出介绍"><a href="#重定向输入输出介绍" class="headerlink" title="重定向输入输出介绍"></a>重定向输入输出介绍</h3><ol>
<li><p>标准输入是数据默认从键盘流向程序，如果改变了它的方向，数据就从其它地方流入，这就是输入重定向。</p>
</li>
<li><p>标准输出是数据默认从程序流向显示器，如果改变了它的方向，数据就流向其它地方，这就是输出重定向。</p>
<blockquote>
<p>Linux Shell 重定向分为两种，一种输入重定向，一种是输出重定向；</p>
</blockquote>
</li>
</ol>
<h2 id="重定向的作用"><a href="#重定向的作用" class="headerlink" title="重定向的作用"></a>重定向的作用</h2><p>输出重定向是指命令的结果不再输出到显示器上，而是输出到其它地方，一般是文件中。这样做的最大好处就是把命令的结果保存起来，当我们需要的时候可以随时查询。</p>
<h2 id="重定向语法"><a href="#重定向语法" class="headerlink" title="重定向语法"></a>重定向语法</h2><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">命令 &gt; file</td>
<td align="left">将正确数据重定向输出到 file 文件中, 覆盖方式</td>
</tr>
<tr>
<td align="left">命令 &lt; file</td>
<td align="left">将输入重定向从 file 文件中读取数据</td>
</tr>
<tr>
<td align="left">命令 &gt;&gt; file</td>
<td align="left">将正确数据重定向输出到 file 文件中, 追加方式</td>
</tr>
<tr>
<td align="left">命令 &lt; file1 &gt; file2</td>
<td align="left">从file文件读取数据, 输出数据到file2文件中</td>
</tr>
<tr>
<td align="left">命令 fd&gt; file</td>
<td align="left">根据指定的文件描述符fd 将数据重定向输出到 file 文件中, 覆盖方式</td>
</tr>
<tr>
<td align="left">命令 fd&gt;&gt; file</td>
<td align="left">根据指定的文件描述符fd 将数据重定向输出到 file 文件中, 追加方式</td>
</tr>
<tr>
<td align="left">命令 &gt; file fd1&gt;&amp; fd2</td>
<td align="left">将 fd1 和 fd2 文件描述符合并 输出到文件。</td>
</tr>
<tr>
<td align="left">fd1&lt;&amp; fd2</td>
<td align="left">将 fd1 和 fd2 文件描述符合并 从文件读取输入.</td>
</tr>
<tr>
<td align="left">&lt;&lt; tag</td>
<td align="left">读取终端输入数据,  将开始标记 tag 和结束标记 tag 之间的内容作为输入。<br>标记名tag可以任意</td>
</tr>
</tbody></table>
<blockquote>
<p>在输出重定向中，<code>&gt;</code>代表的是覆盖输出，<code>&gt;&gt;</code>代表的是追加输出。</p>
<p>fd是文件描述符 </p>
<p>​        0 通常是标准输入（STDIN），</p>
<p>​        1 是标准输出（STDOUT），</p>
<p>​        2 是标准错误输出（STDERR）。</p>
<p>fd&gt;  或  fd&gt;&gt;  中间不可以有空格</p>
</blockquote>
<h2 id="输出示例：正确信息重定向输出"><a href="#输出示例：正确信息重定向输出" class="headerlink" title="输出示例：正确信息重定向输出"></a>输出示例：正确信息重定向输出</h2><p>创建文件redirect1.txt</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch redirect1.txt</span><br></pre></td></tr></table></figure>

<p>执行who命令重定向输出到redirect1.txt文件中</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;itheima&quot; &gt;&gt; redirect1.txt</span><br></pre></td></tr></table></figure>

<p><img src="https://file.coderstudy.cn/image/Pic/image-20200705211524230.png" alt="image-20200705211524230"></p>
<h2 id="输出示例：错误信息重定向输出"><a href="#输出示例：错误信息重定向输出" class="headerlink" title="输出示例：错误信息重定向输出"></a>输出示例：错误信息重定向输出</h2><p>预览错误消息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls java</span><br></pre></td></tr></table></figure>

<p><img src="https://file.coderstudy.cn/image/Pic/image-20200705214312724.png" alt="image-20200705214312724"></p>
<p>没有java目录所以报错</p>
<p>将错误消息输出到error.log文件中</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls java 2&gt; redirect2.txt</span><br></pre></td></tr></table></figure>

<blockquote>
<p>2 是标准错误输出（STDERR）, 注意</p>
<p><code>&gt;</code> 覆盖方式输出</p>
<p><code>2&gt;</code> 注意fd与&gt;符号之间不能有空格 </p>
</blockquote>
<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200705215617076.png" alt="image-20200705215617076"></p>
<h2 id="输出示例：正确和错误信息同时输出"><a href="#输出示例：正确和错误信息同时输出" class="headerlink" title="输出示例：正确和错误信息同时输出"></a>输出示例：正确和错误信息同时输出</h2><p>将正确信息与错误信息都保存到一个文件中</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;itcast&quot; &gt; redirect2.txt 2&gt;&amp;1</span><br></pre></td></tr></table></figure>

<blockquote>
<p>数字 1 代表正确输出的结果输出到文件中<br>数字 2 代表错误结果输出到文件中</p>
<p><code>2&gt;&amp; 1</code> 将正确和错误都输出到文件中.  <code>2&gt;&amp;</code> 中间不能有空格,  写法有2种</p>
<p>​        合并第一种写法:  <code>2&gt;&amp; 1</code></p>
<p>​        合并第二种写法:  <code>2&gt;&amp;1</code></p>
</blockquote>
<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200705221517251.png" alt="image-20200705221517251"></p>
<h2 id="输入示例：统计文件数据行数"><a href="#输入示例：统计文件数据行数" class="headerlink" title="输入示例：统计文件数据行数"></a>输入示例：统计文件数据行数</h2><h3 id="wc命令介绍"><a href="#wc命令介绍" class="headerlink" title="wc命令介绍"></a>wc命令介绍</h3><p>Linux wc 命令可以用来对文本进行统计，包括单词个数、行数、字节数</p>
<h3 id="wc命令语法"><a href="#wc命令语法" class="headerlink" title="wc命令语法"></a>wc命令语法</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wc  [options]  [文件名]</span><br></pre></td></tr></table></figure>

<p> options有如下:</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>-c</code></td>
<td>character, 统计字节数</td>
</tr>
<tr>
<td><code>-w</code></td>
<td>word, 统计单词数</td>
</tr>
<tr>
<td><code>-l</code></td>
<td>line, 统计行数</td>
</tr>
</tbody></table>
<h3 id="演示-20"><a href="#演示-20" class="headerlink" title="演示"></a>演示</h3><p>统计文件redirect2.txt中数据行数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wc -l &lt; redirect2.txt</span><br></pre></td></tr></table></figure>

<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200705225942198.png" alt="image-20200705225942198"></p>
<h2 id="输入示例：逐行读取文件数据"><a href="#输入示例：逐行读取文件数据" class="headerlink" title="输入示例：逐行读取文件数据"></a>输入示例：逐行读取文件数据</h2><p>循环读取文件每一行数据</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">while read str; do echo $str; done &lt; redirect2.txt</span><br></pre></td></tr></table></figure>

<p>运行效果</p>
<p><img src="https://file.coderstudy.cn/image/Pic/image-20200705230840431.png" alt="image-20200705230840431"></p>
<h2 id="输入示例：读取终端输入数据的行数"><a href="#输入示例：读取终端输入数据的行数" class="headerlink" title="输入示例：读取终端输入数据的行数"></a>输入示例：读取终端输入数据的行数</h2><p><img src="https://file.coderstudy.cn/image/Pic/image-20200705231347332.png" alt="image-20200705231347332"></p>
<h2 id="小结-15"><a href="#小结-15" class="headerlink" title="小结"></a>小结</h2><ol>
<li><p>Shell重定向的含义</p>
<blockquote>
<p>改变标准数据流动的方向,  </p>
<p>a.可以将数据输出到文件中, 叫重定向输出</p>
<p>b.可以读取文件中的数据作为输入, 叫重定向输入</p>
</blockquote>
</li>
<li><p>使用重定向输出数据到文件中保存</p>
<blockquote>
<p>命令 &gt; file</p>
<p>命令 &gt;&gt; file</p>
<p>命令 2 &gt;&gt; file</p>
<p>命令 &gt; file 2&amp;&gt;1</p>
</blockquote>
</li>
<li><p>使用重定向从文件中读取输入数据</p>
<blockquote>
<p>命令 &lt; file</p>
<p>命令 &lt; file1 &gt; file2</p>
</blockquote>
</li>
</ol>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://liujun1997.github.io/2021/09/04/Shell-3/" title="Shell-3" target="_blank" rel="external">http://liujun1997.github.io/2021/09/04/Shell-3/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/liujun1997" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar1.jpg" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/liujun1997" target="_blank"><span class="text-dark">Escher</span><small class="ml-1x">Java,Python,Coder</small></a></h3>
        <div>二线城市苦逼搬砖码农</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
      <div id="vcomments"></div>
    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2021/09/04/shell-4/" title="Shell-4"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2021/09/04/Shell-2/" title="Shell-2"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div>
    
  </div>
  </div>
</nav>
  


</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
    
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/liujun1997" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://weibo.com/流隽jk" target="_blank" title="Weibo" data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li>
        
        <li><a href="https://twitter.com/iwebued" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

        <div class="copyright">
            
                &copy; 2021
                    Escher
                        

                            <div class="publishby">
                                <span>点击<span id="busuanzi_value_site_pv" style="font-family:Courier"></span>次,</span>
                                <span>访客<span id="busuanzi_value_site_uv" style="font-family:Courier"></span>人</span>
                                </br>
                                <span id="sitetime"></span>
                            </div>
        </div>
</footer>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script>function siteTime() {
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000;
        var minutes = seconds * 60;
        var hours = minutes * 60;
        var days = hours * 24;
        var years = days * 365;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth() + 1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();
        /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
           year - 作为date对象的年份，为4位年份值
           month - 0-11之间的整数，做为date对象的月份
           day - 1-31之间的整数，做为date对象的天数
           hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
           minutes - 0-59之间的整数，做为date对象的分钟数
           seconds - 0-59之间的整数，做为date对象的秒数
           microseconds - 0-999之间的整数，做为date对象的毫秒数
        */
        var t1 = Date.UTC(2021, 08, 06, 21, 20, 52); //t1为建站时间
        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
        var diff = t2 - t1;
        var diffYears = Math.floor(diff / years);
        var diffDays = Math.floor((diff / days) - diffYears * 365);
        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes);
        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes * minutes) / seconds);
        var y = diffYears.toString()
        var d = diffDays.toString().padStart(3, '0')
        var h = diffHours.toString().padStart(2, '0')
        var m = diffMinutes.toString().padStart(2, '0')
        var s = diffSeconds.toString().padStart(2, '0')
        document.getElementById("sitetime").innerHTML = "已运行" + y + " 年 " + d + "天" + h + "小时" + m + "分钟" + s + "秒";
    }
    siteTime();
</script>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>






   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





   
    
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/valine"></script>
  <script type="text/javascript">
  var GUEST = ['nick', 'mail', 'link'];
  var meta = 'nick,mail,link';
  var requiredFields = 'mail';
  requiredFields = requiredFields.split(',');
  meta = meta.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#vcomments',
    verify: false,
    notify: true,
    appId: 'vJnnArHG3ubHciKWAy9BJP9e-MdYXbMMI',
    appKey: 'q8YnuMuBOJHdFrXYNVBUCFLC',
    placeholder: '留下邮箱才可以收到新消息提醒哦',
    avatar: 'mm',
    meta: meta,
    pageSize: '10' || 10,
    visitor: false,
    requiredFields: requiredFields,
    enableQQ: 'true',
    recordIP: 'true'
  });
  </script>

     



  <script src="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.3.5/dist/jquery.fancybox.min.js"></script>
  <script>
  //利用 FancyBox 实现点击图片放大
  $(document).ready(function() {
    $('article img').not('[hidden]').not('.panel-body img').each(function() {
      var $image = $(this);
      var imageCaption = $image.attr('alt');
      var $imageWrapLink = $image.parent('a');
      if ($imageWrapLink.length < 1) {
        var src = this.getAttribute('src');
        var idx = src.lastIndexOf('?');
        if (idx != -1) {
          src = src.substring(0, idx);
        }
        $imageWrapLink = $image.wrap('<a href="' + src + '"></a>').parent('a');
      }
      $imageWrapLink.attr('data-fancybox', 'images');
      if (imageCaption) {
        $imageWrapLink.attr('data-caption', imageCaption);
      }
    });
    $().fancybox({
      selector: '[data-fancybox="images"]',
      hash: false,
      loop: false,
    });
  });
  </script>






<div id="go-top"></div>
<div id="go-bottom"></div>
<style type="text/css">
#go-top {
 width:40px;height:40px;
 background-color:#DDA0DD;
 position:relative;
 border-radius:20px;
 position:fixed;right:10px;bottom:60px;
 cursor:pointer;display:none;
}
#go-top:after {
 content:" ";
 position:absolute;left:14px;top:14px;
 border-top:2px solid #fff;border-right:2px solid #fff;
 width:12px;height:12px;
 transform:rotate(-45deg);
}
#go-top:hover {
 background-color:#8A2BE2;
}

#go-bottom {
 width:40px;height:40px;
 background-color:#DDA0DD;
 position:relative;
 border-radius:20px;
 position:fixed;right:60px;bottom:60px;
 cursor:pointer;display:none;
}
#go-bottom:after {
 content:" ";
 position:absolute;left:14px;top:14px;
 border-top:2px solid #fff;border-right:2px solid #fff;
 width:12px;height:12px;
 transform:rotate(135deg);
}
#go-bottom:hover {
 background-color:#8A2BE2;
}

</style>
<script>
$(function () {
  var top=$("#go-top");
  var totalHegiht =  document.body.scrollHeight

  $(window).scroll(function () {
    ($(window).scrollTop() > 300) ? top.show(300) : top.hide(200);
    $("#go-top").click(function () {
      $('body,html').animate({scrollTop:0});
      return false();
    })
  });
});

$(function () {
  var bottom=$("#go-bottom");
  var totalHegiht =  document.body.scrollHeight
  $(window).scroll(function () {
    ($(window).scrollTop() < 300) ? bottom.show(300) : bottom.hide(200);
    $("#go-bottom").click(function () {
      $('body,html').animate({scrollTop:totalHegiht});
      return false();
    })
  });
});
</script>

  
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 11px;
      font-weight: 500;
      line-height: 20px;
      color: #333;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      background-color: #eee;
      background-image: linear-gradient(#fcfcfc, #eee);
      border: 1px solid #d5d5d5;
      border-radius: 3px;
      user-select: none;
      outline: 0;
    }

    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      right: 4px;
      top: 2px;
      z-index: 2;
    }

    .highlight-wrap:hover .copy-btn,
        .highlight-wrap .copy-btn:focus {
      opacity: 1
    }

    .highlight-wrap {
      position: relative;
    }
  </style>
  
  <script>
    addLoadEvent(()=>{
      $('.highlight').each(function (i, e) {
        var $wrap = $('<div>').addClass('highlight-wrap')
        $(e).after($wrap)
        $wrap.append($('<button>').addClass('copy-btn').append('一键复制').on('click', function (e) {
          var code = $(this).parent().find(".code")[0].innerText
          
          var ta = document.createElement('textarea')
          document.body.appendChild(ta)
          ta.style.position = 'absolute'
          ta.style.top = '0px'
          ta.style.left = '0px'
          ta.value = code
          ta.select()
          ta.focus()
          var result = document.execCommand('copy')
          document.body.removeChild(ta)
          
            if(result)$(this).text('复制成功')
            else $(this).text('复制失败')
          
          $(this).blur()
        })).on('mouseleave', function (e) {
          var $b = $(this).find('.copy-btn')
          setTimeout(function () {
            $b.text('一键复制')
          }, 300)
        }).append(e)
      })
    })
  </script>


</body>

</html>